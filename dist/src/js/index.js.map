{"version":3,"sources":["../../../src/js/index.js"],"names":["$","advanceData","adandtabs","AdAndTabs","init","adWrapper","tabwrapper","tab","tabContents","document","querySelectorAll","tabMsk","header","homeadvance","prototype","This","ajax","url","hosturl","type","dataType","success","data","getAds","ad","defaultTagContent","cat","done","banner","Swiper","loop","autoplay","pagination","mySwiper","freeMode","freeModeMomentumRatio","slidesPerView","freeModeMomentumVelocityRatio","freeModeMomentumBounceRatio","touchRatio","tabcenter","TabCenter","activeStyle","adlist","i","length","adjieshao","ad_jieshao","imgUrl","adpath","adurl","append","list","tag1","title","id","find","eq","addClass","chooseObj","tags","data_tanchu","console","log","tanchu","shareremind","ShareRemind","winguidan","tabInfo","info","tagContent","liveinfo","liveInfo","offLineActivity","ticketinfo","offLine","error","err","history","livingNums","bagClick","offLineClick","bagitem","index","onclick","getAttribute","status","window","location","href","offLineItem","windowGuidance","maskList","shareMask","navMask","tabsMask","knowBtn","nextBtn","mask","maskAll","maskCenter","pageState","clickState","indexPage","otherPage","indexMaskShow","nextPlay","maskclose","otherMaskShow","css","height","top","on","display","winguidanClose","closePost","str","cat38","cid","dataInfo","tickets_picture","tickets_name","tickets_crettime","tikeaddress","tickets_oldprice","zuzhizhe","zhujiangren","html","onFalse","strr","categoryname","blockTitle","audiotitle","text","audiocontent","k","picture","name","trim","time","Date","Number","starttime","toLocaleDateString","bagcontent","l","ids","pictures","names","audiotitles","bagprice","price","sumi","suming","j","listcontent","livetype","playurl","logourl","statuss","ischoes","setTimeout","loading","overflow","width","btn","maskPale","beforObj","afterObj","getTagMask","jsonp","advanveWrapper","classadvanve","livetime","spker","jianjie","willlivetime","toLocaleString","liveoff","liveurl","livetagsrc","startime","living","timestamp","Math","round","getTime","newtime","intDiff","countDown","swiperWidth","container","clientWidth","maxTranslate","maxWidth","prevIndex","tagss","onOff","tagsstr","swiper","slideClick","clearObj","slide","slides","clickedIndex","slideCenter","offsetLeft","setWrapperTransition","setWrapperTranslate","nowTlanslate","slideActive","slideContent","getElementsByTagName","innerText","slideobj","tabListChange","removeClass","tabId","page","dropload","scrollArea","domDown","domClass","domRefresh","domLoad","domNoData","distance","loadDownFn","me","result","infolist","tickettype","arrLen","otherdata","content","lock","noData","resetload","xhr","maskData","tagslist","tabMskDetials","get","tabFilter","windowScroll","scroll","bodyScroll","body","scrollTop","documentElement","maskcontent","itemA","prevNode","m","addEventListener","parent","parentNode","className","attr","key","reg","test","match","join","str1","str2","str3","sum","tag2","tag3","tag4","id2","ta2","id3","ta3","id4","ta4","obj","TabFixed","headerHeight","position","left","zIndex","timer","allCutTime","liveingMark","setInterval","day","hour","minute","second","floor","clearInterval","showhide","live_id","playtime","imgSrc","tanchupath","tanchuurl","close","closebtn","rules","rulescontent","querySelector","e","stopPropagation","livingSum"],"mappings":"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","file":"index.js","sourcesContent":["$(function () {\r\n  // 主页默认数据接口\r\n  advanceData()\r\n  // 广告和分类筛选tab构造函数\r\n  var adandtabs = new AdAndTabs()\r\n  adandtabs.init()\r\n})\r\n\r\n// 广告和分类筛选tab构造函数\r\nfunction AdAndTabs() {\r\n  // 广告外框\r\n  this.adWrapper = $('#banner .swiper-wrapper')\r\n  // 点击选项卡内容\r\n  this.tabwrapper = $('#tab .swiper-wrapper')\r\n  // 选项卡外层\r\n  this.tab = $('#tab');\r\n  this.tabContents = document.querySelectorAll('.tabs');\r\n  // 头部遮罩\r\n  this.tabMsk = $('.tab_mask');\r\n  this.header = $('.header');\r\n  this.homeadvance = $('#home_advance');\r\n}\r\n\r\nAdAndTabs.prototype.init = function () {\r\n  var This = this\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/ad',\r\n    type: 'get',\r\n    dataType: 'json',\r\n    success: function (data) {\r\n      // 广告数据\r\n      This.getAds(data.ad)\r\n      // 默认选项卡内容\r\n      This.defaultTagContent(data.cat)\r\n    }\r\n  }).done(function () {\r\n    // 轮播图\r\n    var banner = new Swiper('.swiper-container', {\r\n      loop: true,\r\n      autoplay: 5000,\r\n      pagination: '.swiper-pagination'\r\n    });\r\n    // 选项卡滑块\r\n    var mySwiper = new Swiper('#tab', {\r\n      freeMode: true,\r\n      freeModeMomentumRatio: 0,\r\n      slidesPerView: 'auto',\r\n      freeModeMomentumVelocityRatio: 0,\r\n      freeModeMomentumBounceRatio: 0,\r\n      touchRatio: 0.5\r\n    });\r\n    // 选项卡构造函数\r\n    var tabcenter = new TabCenter(This.tab, This.tabContents, This.tabMsk, mySwiper, This.homeadvance);\r\n    tabcenter.init();\r\n    // 选项卡active样式添加\r\n    This.activeStyle(This)\r\n  });\r\n}\r\n// 轮播数据\r\nAdAndTabs.prototype.getAds = function (adlist) {\r\n  for (var i = 0; i < adlist.length; i++) {\r\n    var adjieshao = adlist[i].ad_jieshao\r\n    var imgUrl = adlist[i].adpath\r\n    var adurl = adlist[i].adurl\r\n    this.adWrapper.append(\r\n      '<div class=\"swiper-slide\">' +\r\n      '<a href=\"' + adurl + '\">' +\r\n      '<img src=\"' + imgUrl + '\" alt=\"\">' +\r\n      '</a>' +\r\n      '<h2 class=\"swiper_title\">' + adjieshao + '</h2>' +\r\n      '</div>'\r\n    )\r\n  }\r\n}\r\n// 默认推荐选项卡内容\r\nAdAndTabs.prototype.defaultTagContent = function (list) {\r\n  for (var i = 0; i < list.length; i++) {\r\n    if (list[i].tag1 !== ' ') {\r\n      var title = list[i].tag1\r\n      var id = list[i].id\r\n      if (title) {\r\n        this.tabwrapper.append(\r\n          '<div class=\"swiper-slide\" data-id=\"' + id + '\">' +\r\n          '<span>' + title + '</span>' +\r\n          '</div>'\r\n        )\r\n      }\r\n    }\r\n  }\r\n}\r\n// 选项卡active样式添加\r\nAdAndTabs.prototype.activeStyle = function (This) {\r\n  This.tabwrapper.find('.swiper-slide').eq(0).addClass('active')\r\n}\r\n\r\n\r\nvar homeadvance = $('#home_advance');\r\n// 传入后端的对象\r\nvar chooseObj = {\r\n  id: '',\r\n  tags: ''\r\n};\r\nvar data_tanchu;\r\n\r\n// 主页默认推荐选项卡数据接口\r\nfunction advanceData(chooseObj) {\r\n  $.ajax({\r\n      url: hosturl + '/index.php/Newindex/info',\r\n      type: 'get',\r\n      dataType: 'json',\r\n      data: chooseObj,\r\n      success: function (data) {\r\n        console.log(data);\r\n        if (data.tanchu === '2') {\r\n          var shareremind = new ShareRemind()\r\n          shareremind.init();\r\n        } else if (data.tanchu === '1') {\r\n          data_tanchu = data.tanchu;\r\n          // 弹窗引导页\r\n          winguidan.init(data_tanchu);\r\n        }\r\n        // 首页选项卡数据\r\n        var tabInfo = data.info\r\n        if (tabInfo) {\r\n          tagContent(tabInfo)\r\n        }\r\n        // 直播数据\r\n        var liveinfo = data.liveinfo\r\n        if (liveinfo) {\r\n          liveInfo(liveinfo)\r\n        }\r\n        // 线下活动\r\n        var offLineActivity = data.ticketinfo\r\n        if (offLineActivity) {\r\n          offLine(offLineActivity)\r\n        }\r\n      },\r\n      error: function (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n  ).done(function () {\r\n    history()\r\n    livingNums()\r\n    bagClick()\r\n    offLineClick()\r\n  })\r\n}\r\n\r\n// 课程包点击\r\nfunction bagClick() {\r\n  var bagitem = document.querySelectorAll('.bag_content .bag_item')\r\n  for (var i = 0; i < bagitem.length; i++) {\r\n    bagitem[i].index = i\r\n    bagitem[i].onclick = function () {\r\n      var id = this.getAttribute('data-id')\r\n      $.ajax({\r\n        url: hosturl + '/index.php/Newindex/ispay',\r\n        type: 'get',\r\n        dataType: 'json',\r\n        data: {\r\n          id: id\r\n        },\r\n        success: function (data) {\r\n          // 支付成功\r\n          if (data.status === 1) {\r\n            window.location.href = hosturl + '/index.php/Newautolive/index/id/' + id\r\n          } else {\r\n            window.location.href = hosturl + '/index.php/Newindex/curdetail/id/' + data.id\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// 线下活动点击\r\nfunction offLineClick() {\r\n  var offLineItem = document.querySelectorAll('.off_line_activity .activity_item')\r\n  for (var i = 0; i < offLineItem.length; i++) {\r\n    offLineItem[i].index = i\r\n    offLineItem[i].onclick = function () {\r\n      var id = this.getAttribute('data-id')\r\n      console.log(id)\r\n      /*$.ajax({\r\n        url: hosturl + '/index.php/Newindex/ispay',\r\n        type: 'get',\r\n        dataType: 'json',\r\n        data: {\r\n          id: id\r\n        },\r\n        success: function (data) {\r\n          // 支付成功\r\n          if (data.status === 1) {\r\n            window.location.href = hosturl + '/index.php/Newautolive/index/id/' + id\r\n          } else {\r\n            window.location.href = hosturl + '/index.php/Newindex/curdetail/id/' + data.id\r\n          }\r\n        }\r\n      })*/\r\n    }\r\n  }\r\n}\r\n\r\n// 弹窗引导\r\nvar winguidan = new windowGuidance();\r\nvar maskList, shareMask, navMask, tabsMask, knowBtn, nextBtn, mask, maskAll, maskCenter;\r\nvar pageState = true;\r\nvar clickState = true;\r\n\r\nfunction windowGuidance() {\r\n  mask = this.maskList = $('.mask')\r\n  maskList = this.mask = $('.mask_list')\r\n  shareMask = this.shareMask = $('.share_mask')\r\n  navMask = this.navMask = $('.nav_mask')\r\n  tabsMask = this.tabsMask = $('.tabs_mask')\r\n  knowBtn = this.knowBtn = $('.know_btn')\r\n  nextBtn = this.nextBtn = $('.next_btn')\r\n  maskAll = this.maskAll = $('.mask_all')\r\n  maskCenter = this.maskCenter = $('.mask_center')\r\n}\r\n\r\nwindowGuidance.prototype.init = function (data_tanchu) {\r\n  console.log(clickState)\r\n  if (pageState) {\r\n    if (data_tanchu == 1) {\r\n      winguidan.indexPage()\r\n      console.log(0)\r\n    }\r\n  } else {\r\n    if (data_tanchu == 1 && clickState) {\r\n      winguidan.otherPage()\r\n\r\n    }\r\n  }\r\n}\r\n\r\nwindowGuidance.prototype.indexPage = function () {\r\n  var This = this\r\n  indexMaskShow(maskList, nextBtn, maskAll, shareMask, navMask, This)\r\n  This.nextPlay()\r\n  This.maskclose()\r\n}\r\nwindowGuidance.prototype.otherPage = function () {\r\n  console.log(2)\r\n  var This = this\r\n  otherMaskShow(maskList, knowBtn, maskCenter, tabsMask, mask, This);\r\n  maskCenter.find('.top').css({\r\n    height: 0\r\n  })\r\n  maskCenter.find('.bottom').css({\r\n    top: '4.8rem',\r\n    height: '21rem'\r\n  })\r\n  This.maskclose()\r\n}\r\nwindowGuidance.prototype.nextPlay = function () {\r\n  var This = this\r\n  nextBtn.on('click', function () {\r\n    maskAll.css({\r\n      display: 'none'\r\n    })\r\n    nextBtn.css({\r\n      display: 'none'\r\n    })\r\n    indexMaskShow(maskList, knowBtn, maskCenter, navMask, shareMask, This);\r\n  })\r\n}\r\n\r\nwindowGuidance.prototype.maskclose = function () {\r\n  var This = this\r\n  This.knowBtn.on('click', function () {\r\n    winguidanClose(This)\r\n    closePost();\r\n  })\r\n  This.shareMask.on('click', function () {\r\n    maskAll.css({\r\n      display: 'none'\r\n    })\r\n    nextBtn.css({\r\n      display: 'none'\r\n    })\r\n    indexMaskShow(maskList, knowBtn, maskCenter, navMask, shareMask, This);\r\n    closePost()\r\n  });\r\n  This.navMask.on('click', function () {\r\n    winguidanClose(This)\r\n    closePost()\r\n  })\r\n  This.tabsMask.on('click', function () {\r\n    winguidanClose(This)\r\n    closePost()\r\n  })\r\n}\r\n\r\n// 线下活动\r\nfunction offLine(info) {\r\n  homeadvance.append(\r\n    `\r\n      <div class=\"off_line_activity history\">\r\n        <h2>线下活动</h2>\r\n        <ul class=\"activity_content\"></ul>\r\n      </div>\r\n    `\r\n  )\r\n  var str = ''\r\n  var cat38 = 'cat' + info[0].cid\r\n  console.log(cat38)\r\n  var dataInfo = info[0][cat38]\r\n  console.log(dataInfo)\r\n  for (var i = 0; i < dataInfo.length; i++) {\r\n    str += `\r\n      <li class=\"activity_item\" data-id=\"${dataInfo[i].id}\">\r\n        <div class=\"activity_left\">\r\n          <img src=\"${dataInfo[i].tickets_picture}\" alt=\"\">\r\n        </div>\r\n        <div class=\"activity_right\">\r\n          <div class=\"activity_title\">\r\n            <h2>${dataInfo[i].tickets_name}</h2>\r\n          </div>\r\n          <div class=\"time_where\">\r\n            <time>${dataInfo[i].tickets_crettime} | ${dataInfo[i].tikeaddress}</time>\r\n          </div>\r\n          <div class=\"activity_money\">\r\n            <span class=\"money_sum\">${dataInfo[i].tickets_oldprice}</span>\r\n            <span class=\"money_unit\">元</span>\r\n          </div>\r\n          <div class=\"owner_info\">\r\n            <div class=\"activity_sponsor\">主办方: ${dataInfo[i].zuzhizhe}</div>\r\n            <div class=\"activity_speaker\">主讲人: ${dataInfo[i].zhujiangren}</div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    `\r\n  }\r\n  $('.off_line_activity .activity_content').html(str)\r\n}\r\n\r\n// 精品推荐\r\nfunction tagContent(tabInfo) {\r\n  var onFalse = true\r\n  homeadvance.html(\r\n    '<div id=\"class_advance\" class=\"class_advance choose_craful\" style=\"display: none\">' +\r\n    '<h2 class=\"live_advance\">直播预告</h2>' +\r\n    '<ul class=\"class_advance\"></ul>' +\r\n    '</div>'\r\n  )\r\n  var strr = ''\r\n  for (var i = 0; i < tabInfo.length; i++) {\r\n    var categoryname = tabInfo[i]['categoryname' + tabInfo[i].cid]\r\n    console.log(categoryname)\r\n    var blockTitle = tabInfo[i]['cat' + tabInfo[i].cid]\r\n    var str = ''\r\n    // 心理健康\r\n    if (categoryname === '心理健康课' || categoryname === '心理健康课') {\r\n      homeadvance.append(\r\n        '<div id=\"audio_advance\" class=\"audio_advance choose_craful\">' +\r\n        '<h2 class=\"audio_title\"></h2>' +\r\n        '<ul class=\"audio_content\"></ul>' +\r\n        '</div>'\r\n      )\r\n      var audiotitle = $('#audio_advance .audio_title')\r\n      audiotitle.text(categoryname)\r\n      var audiocontent = $('#audio_advance .audio_content')\r\n      for (var k = 0; k < blockTitle.length; k++) {\r\n        var id = blockTitle[k].id,\r\n          picture = blockTitle[k].picture,\r\n          name = blockTitle[k].name,\r\n          audiotitle = blockTitle[k].title.trim(),\r\n          time = new Date(Number(blockTitle[k].starttime) * 1000).toLocaleDateString()\r\n        audiocontent.append(\r\n          '<li class=\"audio_item\">' +\r\n          '<a class=\"audio_wrapper history\" data-id=\"' + id + '\" href=\"' + hosturl + '/index.php/Index/livedeil_0/id/' + id + '\">' +\r\n          '<i class=\"icon\">' +\r\n          '<img src=\"' + picture + '\" alt=\"\">' +\r\n          '</i>' +\r\n          '<span class=\"audio_info\">' +\r\n          '<span class=\"audio_title\">' + audiotitle + '</span>' +\r\n          '<span class=\"audio_owner\">' + name + '</span>' +\r\n          '<span class=\"audio_hot\">' +\r\n          '<time>' + time + '</time>' +\r\n          '</span>' +\r\n          '</span>' +\r\n          '</a>' +\r\n          '</li>'\r\n        )\r\n      }\r\n    } else if (categoryname === '精品课程包') {\r\n      console.log('精品课程包')\r\n      homeadvance.append(\r\n        `<div class=\"class_bag choose_craful\">\r\n            <h2>${categoryname}</h2>\r\n            <ul class=\"bag_content\">    \r\n            </ul>\r\n          </div>`\r\n      )\r\n      var bagcontent = $('.class_bag .bag_content')\r\n      for (var l = 0; l < blockTitle.length; l++) {\r\n        var ids = blockTitle[l].id,\r\n          pictures = blockTitle[l].picture,\r\n          names = blockTitle[l].name,\r\n          audiotitles = blockTitle[l].title.trim(),\r\n          bagprice = blockTitle[l].price,\r\n          sumi = blockTitle[l].sumi,\r\n          suming = blockTitle[l].suming\r\n        bagcontent.append(`\r\n        <li class=\"bag_item\" data-id=\"${ids}\">\r\n        <a class=\"bag_wrapper history\" href=\"javascript:\">\r\n          <i class=\"icon\">\r\n            <img\r\n                src=\"${pictures}\"\r\n                alt=\"\">\r\n          </i>\r\n          <span class=\"audio_info\">\r\n            <span class=\"audio_title\">${audiotitles}</span>\r\n            <span class=\"audio_owner\">${names}</span>\r\n            <span class=\"audio_hot\">\r\n              <span>更新至第${suming}课/共${sumi}课</span>\r\n              <!--<span>126购买</span>-->\r\n              <span class=\"bag_price\">￥${bagprice}</span>\r\n            </span>\r\n          </span>\r\n        </a>\r\n      </li>\r\n        `)\r\n      }\r\n    } else {\r\n      var str = ''\r\n      for (var j = 0; j < blockTitle.length; j++) {\r\n        var listcontent = $('#home_advance .list_content')\r\n        var ids = blockTitle[j].id,\r\n          pictures = blockTitle[j].picture,\r\n          names = blockTitle[j].name,\r\n          audiotitles = blockTitle[j].title,\r\n          livetype = Number(blockTitle[j].livetype),\r\n          playurl = '',\r\n          logourl = '',\r\n          statuss = Number(blockTitle[j].statuss),\r\n          ischoes = Number(blockTitle[j].ischoes),\r\n          price = Number(blockTitle[j].price)\r\n        // 语音课程\r\n        if (livetype === 2) {\r\n          playurl = 'Index/livedeil_0'\r\n          logourl = 'https://cdn2.qnzsvk.cn/static/20170915/images/all_live_audio@2x.png'\r\n        } else { // 视频课程\r\n          playurl = 'Newautolive/index'\r\n          logourl = 'https://cdn2.qnzsvk.cn/static/20170915/images/all_live_video@2x.png'\r\n          if (statuss === 2) {\r\n            if (price === 0.00) {\r\n              playurl = 'Newautolive/index'\r\n            } else {\r\n              if (ischoes === 2) {\r\n                playurl = 'curdetailpage'\r\n              } else {\r\n                playurl = 'curdetail'\r\n              }\r\n            }\r\n          } else if (statuss === 1) {\r\n            playurl = 'Newautolive/index'\r\n          }\r\n        }\r\n        str +=\r\n          '<li class=\"single_video\">' +\r\n          '<a class=\"single_list_wrapper history\" data-id=\"' + ids + '\" href=\"' + hosturl + '/index.php/' + playurl + '/id/' + ids + '\">' +\r\n          '<section class=\"list_header\">' +\r\n          '<span class=\"list_header_info\">' +\r\n          '<img class=\"class_type\" src=\"' + logourl + '\" alt=\"\">' +\r\n          '<p class=\"is_free\">免费</p>' +\r\n          '</span>' +\r\n          '<img src=\"' + pictures + '\" alt=\"\">' +\r\n          '<span class=\"title\">' +\r\n          '<title class=\"video_introduce\">' + audiotitles + '</title>' +\r\n          '</span>' +\r\n          '</section>' +\r\n          '<p class=\"video_owner\">' + names + '</p>' +\r\n          '</a>' +\r\n          '</li>'\r\n      }\r\n      homeadvance.append(\r\n        '<div class=\"video_audio choose_craful\">' +\r\n        '<h2>' + categoryname + '</h2>' +\r\n        '<ul class=\"list_content\">' + str + '</ul>' +\r\n        '</div>'\r\n      )\r\n    }\r\n  }\r\n  setTimeout(function () {\r\n    loading('none')\r\n  }, 300)\r\n}\r\n\r\n// 关闭全部弹窗引导面板\r\nfunction winguidanClose(This) {\r\n  This.maskList.css({\r\n    display: 'none'\r\n  })\r\n  $('.box').css({\r\n    overflow: 'scroll',\r\n    width: 'auto',\r\n    height: 'auto'\r\n  })\r\n  This.mask.css({\r\n    display: 'none'\r\n  })\r\n}\r\n\r\n// 主页弹窗引导页显示\r\nfunction indexMaskShow(maskList, btn, maskPale, beforObj, afterObj, This) {\r\n  console.log(afterObj)\r\n  maskList.css({\r\n    display: 'block'\r\n  });\r\n  $('.box').css({\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n    height: '100%'\r\n  });\r\n  btn.css({\r\n    display: 'block'\r\n  })\r\n  maskPale.css({\r\n    display: 'block'\r\n  })\r\n  beforObj.css({\r\n    display: 'block'\r\n  })\r\n  afterObj.css({\r\n    display: 'none'\r\n  })\r\n\r\n}\r\n\r\nfunction otherMaskShow(maskList, btn, maskPale, beforObj, afterObj, This) {\r\n  console.log(afterObj)\r\n  maskList.css({\r\n    display: 'block'\r\n  });\r\n  $('.box').css({\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n    height: '100%'\r\n  });\r\n  btn.css({\r\n    display: 'block'\r\n  })\r\n  maskPale.css({\r\n    display: 'block'\r\n  })\r\n  beforObj.css({\r\n    display: 'block'\r\n  })\r\n\r\n}\r\n\r\n// 关闭请求\r\nfunction closePost() {\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/sesstanchu',\r\n    type: 'post',\r\n    dataType: 'json',\r\n    success: function (data) {\r\n    },\r\n    error: function (err) {\r\n      console.log(err)\r\n    }\r\n  })\r\n}\r\n\r\n\r\n// 获取遮罩数据接口\r\nfunction getTagMask(id) {\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/tags/id/' + id,\r\n    type: 'get',\r\n    dataType: 'jsonp',\r\n    jsonp: 'jsonpcallback',\r\n    success: function (data) {\r\n      console.log(data)\r\n    },\r\n    error: function (err) {\r\n      console.log(err)\r\n    }\r\n  }).done(function () {\r\n\r\n  })\r\n}\r\n\r\n\r\n// 直播信息函数\r\nfunction liveInfo(liveinfo) {\r\n  var advanveWrapper = $('#class_advance')\r\n  var classadvanve = $('#class_advance .class_advance')\r\n  var id = liveinfo.id,\r\n    picture = liveinfo.picture,\r\n    title = liveinfo.title,\r\n    livetime = liveinfo.starttime,\r\n    spker = liveinfo.spker,\r\n    jianjie = liveinfo.jianjie,\r\n    willlivetime = new Date(Number(liveinfo.starttime) * 1000).toLocaleString(),\r\n    liveoff = Number(liveinfo.status),\r\n    livetype = Number(liveinfo.livetype),\r\n    liveurl = ''\r\n  if (livetype === 1) {\r\n    livetagsrc = \"https://cdn2.qnzsvk.cn/static/20170915/images/all_live_video@2x.png\"\r\n    liveurl = 'Newautolive/index'\r\n  } else if (livetype === 2) {\r\n    livetagsrc = \"https://cdn2.qnzsvk.cn/static/20170915/images/all_live_audio@2x.png\"\r\n    liveurl = 'Index/autolive'\r\n  }\r\n  if (liveoff === 1) {\r\n    advanveWrapper.css('display', 'block')\r\n    classadvanve.html(\r\n      '<li class=\"live\">' +\r\n      '<a  class=\"history\" data-id=\"' + id + '\" href=\"' + hosturl + '/index.php/' + liveurl + '/id/' + id + '\">' +\r\n      '<span class=\"list_header\">' +\r\n      '<span class=\"list_header_info\">' +\r\n      '<img class=\"class_type\" src=\"' + livetagsrc + '\" alt=\"\">' +\r\n      '<p class=\"is_free\">免费</p>' +\r\n      '</span>' +\r\n      '<img class=\"live_img\" src=\"' + picture + '\" alt=\"\">' +\r\n      '<span class=\"title all-cut-time\">' +\r\n      '</span>' +\r\n      '</span>' +\r\n      '<span class=\"live_introdus\">' +\r\n      '<span class=\"title\">' + title + '</span>' +\r\n      '<span class=\"live_user\">' + spker + '</span>' +\r\n      '<span id=\"living_mark\" class=\"status\">' + willlivetime + '</span>' +\r\n      '</span>' +\r\n      '</a>' +\r\n      '</li>'\r\n    )\r\n  }\r\n\r\n  // 模拟倒计时\r\n  var startime = livetime;\r\n  //是否直播1是0否\r\n  var living = livetype;\r\n  // 当前时间\r\n  var timestamp = Math.round(new Date().getTime() / 1000);\r\n  // 时间\r\n  var newtime = startime - timestamp;\r\n  var intDiff = newtime;\r\n  // 直播倒计时函数\r\n  countDown(intDiff, living);\r\n}\r\n\r\n\r\n// 选项卡构造函数\r\nfunction TabCenter(tab, tabContents, tabMsk, Swiper, homeadvance) {\r\n  // 选项卡外框\r\n  this.tab = tab\r\n  // 选项卡内容\r\n  this.tabContents = tabContents\r\n  // 滑块对象\r\n  this.mySwiper = Swiper\r\n  // 头部标签\r\n  this.tabMsk = tabMsk\r\n  // 选项卡宽度\r\n  this.swiperWidth = Swiper.container[0].clientWidth\r\n  // 最大移动距离\r\n  this.maxTranslate = Swiper.maxTranslate()\r\n  // 最大宽度\r\n  this.maxWidth = this.swiperWidth / 2 - this.maxTranslate\r\n  // 上一次点击的下标\r\n  this.prevIndex = 0\r\n  this.homeadvance = homeadvance\r\n  // 选择的对象\r\n  this.tagss = {}\r\n  // 筛选的ID\r\n  this.cid = {0: ''}\r\n  // 开关\r\n  this.onOff = true\r\n  // 后端遮罩筛选数据\r\n  this.tagsstr = ''\r\n}\r\n\r\n// 选项卡构造函数 初始化函数\r\nTabCenter.prototype.init = function () {\r\n  var This = this\r\n  this.mySwiper.on('tap', function (swiper) {\r\n    This.slideClick(swiper, This)\r\n    chooseObj.tags = ''\r\n    This.tagsstr = ''\r\n    This.clearObj(This.tagss)\r\n  })\r\n};\r\n// 选项卡点击居中\r\nTabCenter.prototype.slideClick = function (swiper, This) {\r\n  // swiper-slide\r\n  var slide = swiper.slides[swiper.clickedIndex]\r\n  // 被点击slide的中心点\r\n  var slideCenter = slide.offsetLeft + slide.clientWidth / 2\r\n  // 点击下标\r\n  var clickedIndex = swiper.clickedIndex\r\n  // tab转场\r\n  This.mySwiper.setWrapperTransition(10)\r\n  if (slideCenter < This.swiperWidth / 2) {\r\n    This.mySwiper.setWrapperTranslate(0)\r\n  } else if (slideCenter > This.maxWidth) {\r\n    This.mySwiper.setWrapperTranslate(This.maxTranslate)\r\n  } else {\r\n    var nowTlanslate = slideCenter - This.swiperWidth / 2\r\n    This.mySwiper.setWrapperTranslate(-nowTlanslate)\r\n  }\r\n  // slide 加active样式\r\n  This.slideActive(clickedIndex, This.tab)\r\n  // 选项卡内容切换\r\n  var tabContents = This.tabContents\r\n  var slideContent = swiper.slides[clickedIndex].getElementsByTagName('span')[0].innerText;\r\n  var slideobj = swiper.slides[clickedIndex]\r\n  This.tabListChange(tabContents, clickedIndex, This, slideContent, slideobj)\r\n\r\n};\r\n// 选项卡加样式\r\nTabCenter.prototype.slideActive = function (clickedIndex, tab) {\r\n  tab.find('.active').removeClass('active')\r\n  tab.find('.swiper-slide').eq(clickedIndex).addClass('active')\r\n};\r\n// 选项卡内容切换\r\nTabCenter.prototype.tabListChange = function (tabContents, index, This, slideContent, slideobj) {\r\n  if (index === 0) {\r\n    This.tabMsk.css('display', 'none')\r\n    advanceData('')\r\n  } else {\r\n    This.homeadvance.html(\r\n      '<div id=\"audio_advance\" class=\"audio_advance choose_craful\">' +\r\n      '<ul class=\"audio_content\">' + '</ul>' +\r\n      '</div>' +\r\n      '<div class=\"video_audio choose_craful\">' +\r\n      '<ul class=\"list_content\">' + '</ul>' +\r\n      '</div>' +\r\n      '<div class=\"class_bag choose_craful\">' +\r\n      '<ul class=\"bag_content\">' + '</ul>' +\r\n      '</div>' +\r\n      '<div class=\"off_line_activity history\">' +\r\n      '<ul class=\"activity_content\">' +\r\n      '</ul>' +\r\n      '</div>'\r\n    )\r\n    var listcontent = ''\r\n    var tabId = slideobj.getAttribute('data-id')\r\n    var page = 0\r\n    var onOff = true\r\n    // 分页\r\n    This.homeadvance.dropload({\r\n      scrollArea: window,\r\n      domDown: {\r\n        domClass: 'dropload-down',\r\n        domRefresh: '',\r\n        domLoad: '<img width=\"24\" height=\"24\" src=\"https://cdn2.qnzsvk.cn/static/20170919/qnvk_2.0/images/loading.gif\" alt=\"\"><span>加载中...</span>',\r\n        domNoData: '- 暂时没有了哦 -'\r\n      },\r\n      distance: 50,\r\n      loadDownFn: function (me) {\r\n        page++;\r\n        // 拼接HTML\r\n        var result = '';\r\n        var logourl = ''\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Newindex/info',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          data: {\r\n            id: tabId,\r\n            tags: '',\r\n            page: page\r\n          },\r\n          success: function (data) {\r\n            console.log(data)\r\n            if (onOff && data.infolist.length > 0) {\r\n              if (data.infolist[0].livetype === '2' && data.infolist[0].ischoes !== '2') {\r\n                // '语音'\r\n                listcontent = $('#audio_advance .audio_content')\r\n              } else if (data.infolist[0].livetype === '1' && data.infolist[0].ischoes !== '2') {\r\n                // '视频'\r\n                listcontent = $('#home_advance .list_content')\r\n              } else if (data.infolist[0].ischoes === '2') {\r\n                // '精选课程包'\r\n                listcontent = $('.class_bag .bag_content')\r\n              } else if (data.infolist[0].tickettype === '2') {\r\n                // '线下活动'\r\n                listcontent = $('.off_line_activity .activity_content')\r\n              }\r\n              onOff = false\r\n            }\r\n            var arrLen = data.infolist.length;\r\n            var otherdata = data.infolist\r\n            if (arrLen > 0) {\r\n              for (var i = 0; i < arrLen; i++) {\r\n                var livetype = Number(otherdata[i].livetype ? otherdata[i].livetype : ''),\r\n                  id = otherdata[i].id,\r\n                  picture = otherdata[i].picture ? otherdata[i].picture : '',\r\n                  audiotitle = otherdata[i].content ? otherdata[i].content : '',\r\n                  title = otherdata[i].title ? otherdata[i].title.trim() : '',\r\n                  time = new Date(Number(otherdata[i].starttime ? otherdata[i].starttime : '') * 1000).toLocaleDateString(),\r\n                  ischoes = Number(otherdata[i].ischoes),\r\n                  price = otherdata[i].price ? otherdata[i].price : '',\r\n                  sumi = otherdata[i].sumi ? otherdata[i].sumi : '',\r\n                  suming = otherdata[i].suming ? otherdata[i].suming : '',\r\n                  tickettype = otherdata[i].tickettype ? otherdata[i].tickettype : ''\r\n                // 语音课程\r\n                if (livetype === 2 && ischoes !== 2) {\r\n                  result +=\r\n                    '<li class=\"audio_item\" data-id=\"' + id + '\">' +\r\n                    '<a class=\"audio_wrapper history\"  href=\"' + hosturl + '/index.php/Index/livedeil_0/id/' + id + '\">' +\r\n                    '<i class=\"icon\">' +\r\n                    '<img src=\"' + picture + '\" alt=\"\">' +\r\n                    '</i>' +\r\n                    '<span class=\"audio_info\">' +\r\n                    '<span class=\"audio_title\">' + title + '</span>' +\r\n                    '<span class=\"audio_owner\">' + name + '</span>' +\r\n                    '<span class=\"audio_hot\">' +\r\n                    '<time>' + time + '</time>' +\r\n                    '</span>' +\r\n                    '</span>' +\r\n                    '</a>' +\r\n                    '</li>'\r\n                  // 视频\r\n                } else if (livetype === 1 && ischoes !== 2) {\r\n                  result +=\r\n                    '<li class=\"single_video\" data-id=\"' + id + '\" >' +\r\n                    '<a class=\"single_list_wrapper history\" href=\"' + hosturl + '/index.php/Newautolive/index/id/' + id + '\">' +\r\n                    '<section class=\"list_header\">' +\r\n                    '<span class=\"list_header_info\">' +\r\n                    '<img class=\"class_type\" src=\"https://cdn2.qnzsvk.cn/static/20170915/images/all_live_video@2x.png\" alt=\"\">' +\r\n                    '<p class=\"is_free\">免费</p>' +\r\n                    '</span>' +\r\n                    '<img src=\"' + picture + '\" alt=\"\">' +\r\n                    '<span class=\"title\">' +\r\n                    '<title class=\"video_introduce\">' + title + '</title>' +\r\n                    '</span>' +\r\n                    '</section>' +\r\n                    '<p class=\"video_owner\">' + name + '</p>' +\r\n                    '</a>' +\r\n                    '</li>'\r\n                  // 课程包\r\n                } else if (livetype && ischoes === 2) {\r\n                  result += `\r\n                    <li class=\"bag_item\" data-id=\"${id}\">\r\n                      <a class=\"bag_wrapper history\" href=\"javascript:\">\r\n                        <i class=\"icon\">\r\n                          <img\r\n                              src=\"${picture}\"\r\n                              alt=\"\"> \r\n                        </i>\r\n                        <span class=\"audio_info\">\r\n                          <span class=\"audio_title\">${title}</span>\r\n                          <span class=\"audio_owner\">${name}</span>\r\n                          <span class=\"audio_hot\">\r\n                            <span>更新至第${suming}课/共${sumi}课</span>\r\n                            <!--<span>126购买</span>-->\r\n                            <span class=\"bag_price\">￥${price}</span>\r\n                          </span>\r\n                        </span>\r\n              \r\n                      </a>\r\n                    </li>\r\n                  `\r\n                } else if (tickettype) {\r\n                  result += `\r\n                    <li class=\"activity_item\"  data-id=\"${otherdata[i].id}\">\r\n                      <div class=\"activity_left\">\r\n                        <img \r\n                           src=\"${otherdata[i].tickets_picture}\"\r\n                           alt=\"\"\r\n                        >\r\n                      </div>\r\n                      <div class=\"activity_right\">\r\n                        <div class=\"activity_title\">\r\n                          <h2>${otherdata[i].tickets_name}</h2>\r\n                        </div>\r\n                        <div class=\"time_where\">\r\n                          <time>${otherdata[i].tickets_crettime} | ${otherdata[i].tikeaddress}</time>\r\n                        </div>\r\n                        <div class=\"activity_money\">\r\n                          <span class=\"money_sum\">${otherdata[i].tickets_oldprice}</span>\r\n                          <span class=\"money_unit\">元</span>\r\n                        </div>\r\n                        <div class=\"owner_info\">\r\n                          <div class=\"activity_sponsor\">主办方: ${otherdata[i].zuzhizhe}</div>\r\n                          <div class=\"activity_speaker\">主讲人: ${otherdata[i].zhujiangren}</div>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  `\r\n                }\r\n              }\r\n            } else {\r\n              // 锁定\r\n              me.lock();\r\n              // 无数据\r\n              me.noData();\r\n            }\r\n            // 插入数据到页面，放到最后面\r\n            if (listcontent) {\r\n              listcontent.append(result);\r\n            }\r\n            // 每次数据插入，必须重置\r\n            me.resetload();\r\n          },\r\n          error: function (xhr, type) {\r\n            console.log('Ajax error!');\r\n            // 即使加载出错，也得重置\r\n            me.resetload();\r\n          }\r\n        }).done(function () {\r\n          // 记录历史记录\r\n          history()\r\n          // 课程包点击\r\n          bagClick()\r\n          // 线下活动点击\r\n          offLineClick()\r\n        });\r\n      }\r\n    });\r\n\r\n    // 获取遮罩数据\r\n    $.ajax({\r\n      url: hosturl + '/index.php/Newindex/tags/id/' + tabId,\r\n      type: 'get',\r\n      dataType: 'json',\r\n      success: function (data) {\r\n        // 遮罩数据渲染函数\r\n        This.maskData(data.tagslist, This)\r\n        if (data.tagslist.length) {\r\n          This.tabMsk.css('display', 'block')\r\n        } else {\r\n          This.tabMsk.css('display', 'none')\r\n        }\r\n      },\r\n      error: function (err) {\r\n        console.log(err)\r\n      }\r\n    }).done(function () {\r\n      // 选项卡过滤\r\n      var tabMskDetials = This.tabMsk.get(0).getElementsByTagName('div')\r\n      This.tabFilter(tabMskDetials, This)\r\n    })\r\n  }\r\n  This.cid[0] = tabId\r\n};\r\n// 页面滚动\r\nTabCenter.prototype.windowScroll = function () {\r\n  $(window).scroll(function () {\r\n    var bodyScroll = document.body.scrollTop || document.documentElement.scrollTop\r\n  })\r\n}\r\n// 遮罩数据点击过滤\r\nTabCenter.prototype.tabFilter = function (maskcontent, This) {\r\n  var itemA = null;\r\n  for (var k = 0; k < maskcontent.length; k++) {\r\n    itemA = maskcontent[k].querySelectorAll(\"span\");\r\n    maskcontent[k].prevNode = null;\r\n    maskcontent[k].index = k;\r\n    for (var m = 0; m < itemA.length; m++) {\r\n      itemA[m].onOff = true\r\n      itemA[m].addEventListener('touchstart', function () {\r\n        chooseObj.tags = ' '\r\n        This.tagsstr = ''\r\n        var parent = this.parentNode;\r\n        if (parent.prevNode) {\r\n          parent.prevNode.className = ''\r\n        }\r\n        // 点击切换筛选明细状态\r\n        if (this.onOff) {\r\n          this.className = 'search_active';\r\n          this.onOff = false\r\n          This.tagss[parent.index + 1] = this.getAttribute('data-id')\r\n          for (var attr in This.tagss) {\r\n            This.tagsstr += This.tagss[attr] + ','\r\n          }\r\n        } else {\r\n          this.className = ''\r\n          This.tagss[parent.index + 1] = ''\r\n          this.onOff = true\r\n          for (var key in This.tagss) {\r\n            This.tagsstr += This.tagss[key] + ','\r\n          }\r\n        }\r\n        parent.prevNode = this;\r\n        // 传给后台筛选数据的参数\r\n        var reg = /\\d+/g\r\n        if (reg.test(This.tagsstr)) {\r\n          chooseObj.tags = This.tagsstr.match(reg).join(',') + ','\r\n        } else {\r\n          chooseObj.tags = ''\r\n        }\r\n        chooseObj.id = This.cid[0]\r\n        console.log(chooseObj)\r\n        // 数据筛选\r\n        advanceData(chooseObj)\r\n      })\r\n    }\r\n  }\r\n};\r\n// 遮罩数据获取;\r\nTabCenter.prototype.maskData = function (data, This) {\r\n  var str1 = '',\r\n    str2 = '',\r\n    str3 = '',\r\n    sum = 0\r\n  for (var i = 0; i < data.length; i++) {\r\n    var tag2 = data[i].tag2,\r\n      tag3 = data[i].tag3,\r\n      tag4 = data[i].tag4,\r\n      id2 = data[i].ta2,\r\n      id3 = data[i].ta3,\r\n      id4 = data[i].ta4\r\n    if (tag2) {\r\n      str1 += '<span data-id=\"' + id2 + '\">' + tag2 + '</span>'\r\n      This.tabMsk.find('.objects').find('h2').css('display', 'block')\r\n      This.tabMsk.find('.objects').html('<h2>学科:</h2>' + str1)\r\n      // 弹窗引导\r\n      pageState = false\r\n      winguidan.init(data_tanchu)\r\n      clickState = false\r\n    }\r\n\r\n    if (tag3) {\r\n      str2 += '<span data-id=\"' + id3 + '\">' + tag3 + '</span>'\r\n      This.tabMsk.find('.stages').find('h2').css('display', 'block')\r\n      This.tabMsk.find('.stages').html('<h2>学段:</h2>' + str2)\r\n      // 弹窗引导\r\n      pageState = false\r\n      winguidan.init(data_tanchu)\r\n      clickState = false\r\n\r\n    } else {\r\n      sum++\r\n      if (sum === data.length) {\r\n        This.tabMsk.find('.stages').html(' ')\r\n      }\r\n    }\r\n    if (tag4 && false) {\r\n      str3 += '<span data-id=\"' + id4 + '\">' + tag4 + '</span>'\r\n      This.tabMsk.find('.classes').find('h2').css('display', 'block')\r\n      This.tabMsk.find('.classes').html('<h2>年级:</h2>' + str3)\r\n    }\r\n  }\r\n\r\n};\r\n// 清空筛选对象\r\nTabCenter.prototype.clearObj = function (obj) {\r\n  for (var attr in obj) {\r\n    delete obj[attr]\r\n  }\r\n};\r\n\r\n// 固定tab\r\nfunction TabFixed(tab, header) {\r\n  this.tab = $(tab)\r\n  this.headerHeight = $(header).height()\r\n}\r\n\r\nTabFixed.prototype.init = function () {\r\n  var This = this\r\n  $(window).scroll(function () {\r\n    var bodyScroll = document.body.scrollTop || document.documentElement.scrollTop\r\n    if (bodyScroll > This.headerHeight) {\r\n      This.tab.css({\r\n        position: 'fixed',\r\n        left: 0,\r\n        top: 0,\r\n        zIndex: 99\r\n      })\r\n    } else {\r\n      This.tab.css({\r\n        position: 'static'\r\n      })\r\n    }\r\n  })\r\n};\r\n\r\n// 直播倒计时函数\r\nfunction countDown(intDiff, living) {\r\n  // 设置定时器\r\n  var timer = null;\r\n  var allCutTime = $('.all-cut-time')\r\n  var liveingMark = $('#living_mark')\r\n  timer = setInterval(function () {\r\n    var day = 0,\r\n      hour = 0,\r\n      minute = 0,\r\n      second = 0;\r\n    //时间默认值\r\n    if (intDiff > 0) {\r\n      day = Math.floor(intDiff / (60 * 60 * 24));\r\n      hour = Math.floor(intDiff / (60 * 60)) - (day * 24);\r\n      minute = Math.floor(intDiff / 60) - (day * 24 * 60) - (hour * 60);\r\n      second = Math.floor(intDiff) - (day * 24 * 60 * 60) - (hour * 60 * 60) - (minute * 60);\r\n      if (minute <= 9)\r\n        minute = '0' + minute;\r\n      if (second <= 9)\r\n        second = '0' + second;\r\n    } else if (intDiff < 0 && living === 1) {\r\n      allCutTime.html(\r\n        '<span class=\"video_introduce\">直播进行中...</span>'\r\n      );\r\n      liveingMark.html('直播中...')\r\n      // 清除定时器\r\n      clearInterval(timer);\r\n      return;\r\n    } else if (living === 2) {\r\n      allCutTime.html(\r\n        '<span class=\"video_introduce\">直播进行中...</span>'\r\n      );\r\n      liveingMark.html('直播中...')\r\n      // 清除定时器\r\n      clearInterval(timer);\r\n      return;\r\n    }\r\n    allCutTime.html(\r\n      '<span>倒计时：</span>' +\r\n      '<span>' + day + '天' + hour + '时' + minute + '分' + second + '秒' + '</span>'\r\n    )\r\n    intDiff--;\r\n  }, 1000);\r\n}\r\n\r\n// loading样式\r\nfunction loading(showhide) {\r\n  $('.loading').css('display', showhide)\r\n}\r\n\r\n// 历史记录\r\nfunction history() {\r\n  setTimeout(function () {\r\n    var history = document.querySelectorAll('.history')\r\n    for (var i = 0; i < history.length; i++) {\r\n      history[i].addEventListener('click', function () {\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Index/addsee',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          data: {\r\n            live_id: this.getAttribute('data-id'),\r\n            playtime: new Date().getTime()\r\n          },\r\n          success: function (data) {\r\n            console.log(data)\r\n          }\r\n        })\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Newautolive/seecount',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          data: {\r\n            id: this.getAttribute('data-id')\r\n          },\r\n          success: function (data) {\r\n            console.log(data)\r\n          },\r\n          error: function (err) {\r\n            console.log(err)\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }, 200)\r\n}\r\n\r\n// 分享提示\r\nfunction ShareRemind() {\r\n  this.body = $('body')\r\n}\r\n\r\nShareRemind.prototype.init = function () {\r\n  var This = this\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/tanchu',\r\n    type: 'get',\r\n    dataType: 'json',\r\n    success: function (data) {\r\n      console.log(data)\r\n      if (data == null) {\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Newindex/tanchu2',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          success: function (data) {\r\n            console.log(data)\r\n            var imgSrc = data.tanchupath;\r\n            var imgUrl = data.tanchuurl;\r\n            This.body.append(\r\n              '<section id=\"rules\" class=\"center_box\">' +\r\n              '<div class=\"rules\">' +\r\n              '<div class=\"rules_content\">' +\r\n              '<img class=\"close_btn\" src=\"https://cdn2.qnzsvk.cn/static/20170927_/qnvk_2.0/images/popup_coupon_close_btn@3x.png\">' +\r\n              '<a href=\"' + imgUrl + '\">' +\r\n              '<img class=\"get_rules\" src=\" ' + imgSrc + ' \">' +\r\n              '</a>' +\r\n              '</div>' +\r\n              '</div>' +\r\n              '</section>'\r\n            )\r\n            This.close()\r\n          }\r\n        })\r\n\r\n      }\r\n    }\r\n  })\r\n}\r\nShareRemind.prototype.close = function () {\r\n  setTimeout(function () {\r\n    var closebtn = $('#rules .close_btn')\r\n    var rules = $('#rules')\r\n    var rulescontent = document.querySelector('#rules .rules')\r\n    closebtn.on('click', function () {\r\n      rules.css({\r\n        display: 'none'\r\n      })\r\n    })\r\n    rules.on('click', function () {\r\n      this.css({\r\n        display: 'none'\r\n      })\r\n    })\r\n    rulescontent.addEventListener('click', function (e) {\r\n      e.stopPropagation()\r\n    })\r\n  }, 500)\r\n}\r\n\r\n// 直播播放次数统计\r\nfunction livingNums() {\r\n  var livingSum = $('#class_advance').find('.history')\r\n  // livingSum.attr('href', 'javascript:')\r\n  livingSum.on('click', function () {\r\n    $.ajax({\r\n      url: hosturl + '/index.php/Newautolive/seecount',\r\n      type: 'get',\r\n      dataType: 'json',\r\n      data: {\r\n        id: this.getAttribute('data-id')\r\n      },\r\n      success: function (data) {\r\n        console.log(data)\r\n      },\r\n      error: function (err) {\r\n        console.log(err)\r\n      }\r\n    })\r\n  })\r\n}"]}