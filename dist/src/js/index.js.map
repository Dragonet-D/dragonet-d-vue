{"version":3,"sources":["../../../src/js/index.js"],"names":["$","advanceData","adandtabs","AdAndTabs","init","adWrapper","tabwrapper","tab","tabContents","document","querySelectorAll","tabMsk","header","homeadvance","prototype","This","ajax","url","hosturl","type","dataType","success","data","getAds","ad","defaultTagContent","cat","done","banner","Swiper","loop","autoplay","pagination","mySwiper","freeMode","freeModeMomentumRatio","slidesPerView","freeModeMomentumVelocityRatio","freeModeMomentumBounceRatio","touchRatio","tabcenter","TabCenter","activeStyle","swipperWrapper","get","swiperSlide","console","log","i","length","index","addEventListener","herfSrc","getElementsByTagName","href","ifId","indexOf","id","substring","_aurl","status","ischoes","livetype","window","location","adlist","adjieshao","ad_jieshao","imgUrl","adpath","adurl","append","list","tag1","title","find","eq","addClass","chooseObj","tags","tabInfo","info","tagContent","tanchu","guidance","Guidance","maskData","infolist","masktagContent","liveinfo","liveInfo","offLineActivity","ticketinfo","offLine","error","err","history","livingNums","bagClick","offLineClick","box","mask_list","share_mask","nav_mask","tab_mask","btn_group","know_btn","next_btn","all_mask","all_btn","swiper_slide","nextClick","knowClick","tabClick","boxHide","pageHide","_this","on","knowHide","swiper_text","children","text","css","display","overflow","height","closePost","obj","show_obj","removeClass","bagitem","onclick","getAttribute","offLineItem","ispay","str","cat38","cid","categoryname","dataInfo","tickets_picture","tickets_name","tickets_crettime","tikeaddress","tickets_oldprice","zuzhizhe","zhujiangren","html","onFalse","strr","blockTitle","audiotitle","audiocontent","k","picture","name","trim","time","Date","Number","starttime","toLocaleDateString","bagcontent","l","ids","pictures","names","audiotitles","bagprice","price","sumi","suming","j","listcontent","playurl","logourl","statuss","setTimeout","loading","otherdata","audioadvance","videoaudio","content","advanveWrapper","classadvanve","livetime","spker","jianjie","willlivetime","toLocaleString","liveoff","liveurl","livetagsrc","startime","living","timestamp","Math","round","getTime","newtime","intDiff","countDown","swiperWidth","container","clientWidth","maxTranslate","maxWidth","prevIndex","tagss","onOff","tagsstr","swiper","slideClick","clearObj","slide","slides","clickedIndex","slideCenter","offsetLeft","setWrapperTransition","setWrapperTranslate","nowTlanslate","slideActive","slideContent","innerText","slideobj","tabListChange","tabId","page","dropload","scrollArea","domDown","domClass","domRefresh","domLoad","domNoData","distance","loadDownFn","me","result","tickettype","arrLen","lock","noData","resetload","xhr","tagslist","tabMskDetials","tabFilter","windowScroll","scroll","bodyScroll","body","scrollTop","documentElement","maskcontent","itemA","prevMsk","prevNode","m","parent","parentNode","className","attr","key","reg","test","match","join","str1","str2","str3","sum","tag2","tag3","tag4","id2","ta2","id3","ta3","id4","ta4","TabFixed","headerHeight","position","left","top","zIndex","timer","allCutTime","liveingMark","setInterval","day","hour","minute","second","floor","clearInterval","showhide","live_id","playtime","ShareRemind","imgSrc","tanchupath","tanchuurl","close","closebtn","rules","rulescontent","querySelector","e","stopPropagation","livingSum"],"mappings":"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","file":"index.js","sourcesContent":["$(function () {\r\n  // 主页默认数据接口\r\n  advanceData()\r\n  // 广告和分类筛选tab构造函数\r\n  var adandtabs = new AdAndTabs()\r\n  adandtabs.init()\r\n})\r\n\r\n// 广告和分类筛选tab构造函数\r\nfunction AdAndTabs() {\r\n  // 广告外框\r\n  this.adWrapper = $('#banner .swiper-wrapper')\r\n  // 点击选项卡内容\r\n  this.tabwrapper = $('#tab .swiper-wrapper')\r\n  // 选项卡外层\r\n  this.tab = $('#tab');\r\n  this.tabContents = document.querySelectorAll('.tabs');\r\n  // 头部遮罩\r\n  this.tabMsk = $('.tab_mask');\r\n  this.header = $('.header');\r\n  this.homeadvance = $('#home_advance');\r\n}\r\n\r\nAdAndTabs.prototype.init = function () {\r\n  var This = this\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/ad',\r\n    type: 'get',\r\n    dataType: 'json',\r\n    success: function (data) {\r\n      // 广告数据\r\n      This.getAds(data.ad)\r\n      // 默认选项卡内容\r\n      This.defaultTagContent(data.cat)\r\n    }\r\n  }).done(function () {\r\n    // 轮播图\r\n    var banner = new Swiper('.swiper-container', {\r\n      loop: true,\r\n      autoplay: 5000,\r\n      pagination: '.swiper-pagination'\r\n    });\r\n    // 选项卡滑块\r\n    var mySwiper = new Swiper('#tab', {\r\n      freeMode: true,\r\n      freeModeMomentumRatio: 0,\r\n      slidesPerView: 'auto',\r\n      freeModeMomentumVelocityRatio: 0,\r\n      freeModeMomentumBounceRatio: 0,\r\n      touchRatio: 0.5\r\n    });\r\n    // 选项卡构造函数\r\n    var tabcenter = new TabCenter(This.tab, This.tabContents, This.tabMsk, mySwiper, This.homeadvance);\r\n    tabcenter.init();\r\n    // 选项卡active样式添加\r\n    This.activeStyle(This)\r\n    let swipperWrapper = $('#banner .swiper-wrapper').get(0);\r\n    let swiperSlide = swipperWrapper.querySelectorAll('.swiper-slide')\r\n    console.log(swiperSlide)\r\n    for (let i = 0; i < swiperSlide.length; i++) {\r\n      // swiperSlide[i].getElementsByTagName('a')[0].href = 'javascript:'\r\n      swiperSlide[i].index = i\r\n      swiperSlide[i].addEventListener('click', function () {\r\n        let herfSrc = swiperSlide[this.index].getElementsByTagName('a')[0].href\r\n        let ifId = herfSrc.indexOf('id')\r\n        if (ifId > 0) {\r\n          let id = herfSrc.substring(ifId + 3)\r\n          // console.log(id)\r\n          swiperSlide[this.index].getElementsByTagName('a')[0].href = 'javascript:'\r\n          $.ajax({\r\n            url: hosturl + '/index.php/Newindex/ispay',\r\n            type: 'get',\r\n            dataType: 'json',\r\n            data: {\r\n              id: id\r\n            },\r\n            success: function (data) {\r\n              var _aurl\r\n              /*\r\n                 status:是否支持成功：1.支付成功，2.支付不成功\r\n                 id:没有支付成功的付费ID\r\n                 ischoes:是否是付费课程，0.不收费课程  2.收费课程\r\n                 livetype:语音和视频判断：1.视频，2.语音\r\n              */\r\n              let {status, id, ischoes, livetype} = data\r\n              if (ischoes === '0') {\r\n                if (livetype === '1') {\r\n                  _aurl = `${hosturl}/index.php/Newautolive/index/id/${id}`\r\n                } else if (livetype === '2') {\r\n                  _aurl = `${hosturl}/index.php/Indexvedeil_0/id/${id}`\r\n                }\r\n              } else if (ischoes === '2') {\r\n                if (status === 1) {\r\n                  _aurl = `${hosturl}/index.php/Newautolive/index/id/${id}`\r\n                } else if (status === 2) {\r\n                  _aurl = `${hosturl}/index.php/Newindex/curdetail/id/${id}`\r\n                }\r\n              }\r\n              window.location.href = _aurl\r\n            }\r\n          })\r\n        } else {\r\n          window.location.href = herfSrc\r\n        }\r\n      })\r\n    }\r\n  });\r\n}\r\n// 轮播数据\r\nAdAndTabs.prototype.getAds = function (adlist) {\r\n  for (var i = 0; i < adlist.length; i++) {\r\n    var adjieshao = adlist[i].ad_jieshao\r\n    var imgUrl = adlist[i].adpath\r\n    var adurl = adlist[i].adurl\r\n    this.adWrapper.append(\r\n      '<div class=\"swiper-slide\">' +\r\n      '<a href=\"' + adurl + '\">' +\r\n      '<img src=\"' + imgUrl + '\" alt=\"\">' +\r\n      '</a>' +\r\n      '<h2 class=\"swiper_title\">' + adjieshao + '</h2>' +\r\n      '</div>'\r\n    )\r\n  }\r\n}\r\n// 默认推荐选项卡内容\r\nAdAndTabs.prototype.defaultTagContent = function (list) {\r\n  for (var i = 0; i < list.length; i++) {\r\n    if (list[i].tag1 !== ' ') {\r\n      var title = list[i].tag1\r\n      var id = list[i].id\r\n      if (title) {\r\n        this.tabwrapper.append(\r\n          '<div class=\"swiper-slide\" data-id=\"' + id + '\">' +\r\n          '<span>' + title + '</span>' +\r\n          '</div>'\r\n        )\r\n      }\r\n    }\r\n  }\r\n}\r\n// 选项卡active样式添加\r\nAdAndTabs.prototype.activeStyle = function (This) {\r\n  This.tabwrapper.find('.swiper-slide').eq(0).addClass('active')\r\n}\r\n\r\n\r\nvar homeadvance = $('#home_advance');\r\n// 传入后端的对象\r\nvar chooseObj = {\r\n  id: '',\r\n  tags: ''\r\n};\r\n\r\n// 主页默认推荐选项卡数据接口\r\nfunction advanceData(chooseObj) {\r\n  $.ajax({\r\n      url: hosturl + '/index.php/Newindex/info',\r\n      type: 'get',\r\n      dataType: 'json',\r\n      data: chooseObj,\r\n      success: function (data) {\r\n        console.log(data);\r\n        // 首页选项卡数据\r\n        var tabInfo = data.info\r\n        if (tabInfo) {\r\n          tagContent(tabInfo)\r\n        }\r\n        if (data.tanchu === '2') {\r\n          // 分享引导\r\n          // var shareremind = new ShareRemind()\r\n          // shareremind.init();\r\n        } else if (data.tanchu === '1') {\r\n          // 弹窗引导\r\n          var guidance = new Guidance();\r\n        }\r\n        // 遮罩数据筛选\r\n        var maskData = data.infolist;\r\n        if (maskData) {\r\n          masktagContent(maskData)\r\n        }\r\n\r\n\r\n        // 直播数据\r\n        var liveinfo = data.liveinfo\r\n        if (liveinfo) {\r\n          liveInfo(liveinfo)\r\n        }\r\n        // 线下活动\r\n        var offLineActivity = data.ticketinfo\r\n        if (offLineActivity && offLineActivity.length) {\r\n          offLine(offLineActivity)\r\n        }\r\n      },\r\n      error: function (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n  ).done(function () {\r\n    history()\r\n    livingNums()\r\n    bagClick()\r\n    offLineClick()\r\n  })\r\n}\r\n\r\n\r\n//  推荐页弹窗引导\r\nclass Guidance {\r\n  constructor() {\r\n    this.box = $('.box');\r\n    this.mask_list = $('.mask_list');\r\n    this.share_mask = $('.share_mask');\r\n    this.nav_mask = $('.nav_mask');\r\n    this.tab_mask = $('.tabs_mask');\r\n    this.btn_group = $('.btn_group');\r\n    this.know_btn = $('.know_btn');\r\n    this.next_btn = $('.next_btn');\r\n    this.all_mask = this.mask_list.find('li');\r\n    this.all_btn = this.btn_group.find('div');\r\n    this.swiper_slide = $('.swiper-slide');\r\n    this.init();\r\n    this.nextClick();\r\n    this.knowClick();\r\n    this.tabClick();\r\n  }\r\n\r\n  // 初始化\r\n  init() {\r\n    boxHide(this);\r\n    pageHide(this.all_mask, this.share_mask);\r\n    pageHide(this.all_btn, this.next_btn);\r\n  }\r\n\r\n  // 点击下一步\r\n  nextClick() {\r\n    let _this = this;\r\n    this.next_btn.on('click', function () {\r\n      pageHide(_this.all_mask, _this.nav_mask);\r\n      pageHide(_this.all_btn, _this.know_btn);\r\n    })\r\n    this.share_mask.find('.share_mask_item').on('click', function () {\r\n      pageHide(_this.all_mask, _this.nav_mask);\r\n      pageHide(_this.all_btn, _this.know_btn);\r\n    })\r\n    this.tab_mask.find('.tab_mask_item').on('click', function () {\r\n      knowHide(_this);\r\n    })\r\n  }\r\n\r\n  // 点击我知道了\r\n  knowClick() {\r\n    let _this = this;\r\n    this.know_btn.on('click', function () {\r\n      knowHide(_this)\r\n    })\r\n    this.nav_mask.find('.nav_mask_item').on('click', function () {\r\n      knowHide(_this)\r\n    })\r\n  }\r\n\r\n  // 点击Tab\r\n  tabClick() {\r\n    let _this = this;\r\n    this.swiper_slide.on('click', function () {\r\n      const swiper_text = $(this).children('span').text();\r\n      if (swiper_text === '名师公益课' || swiper_text === '心理健康课') {\r\n        boxHide(_this);\r\n        pageHide(_this.all_mask, _this.tab_mask);\r\n        pageHide(_this.all_btn, _this.know_btn);\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction knowHide(_this) {\r\n  _this.mask_list.css({\r\n    display: 'none'\r\n  })\r\n  _this.box.css({\r\n    overflow: 'auto',\r\n    height: 'auto'\r\n  })\r\n  closePost();\r\n}\r\n\r\nfunction pageHide(obj, show_obj) {\r\n  obj.addClass('none');\r\n  show_obj.removeClass('none')\r\n}\r\n\r\nfunction boxHide(_this) {\r\n  _this.mask_list.css({\r\n    display: 'block'\r\n  });\r\n  _this.box.css({\r\n    overflow: 'hidden',\r\n    height: '100%'\r\n  })\r\n}\r\n\r\n// 关闭请求接口\r\nfunction closePost() {\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/sesstanchu',\r\n    type: 'post',\r\n    dataType: 'json',\r\n    success: function (data) {\r\n    },\r\n    error: function (err) {\r\n      console.log(err)\r\n    }\r\n  })\r\n}\r\n\r\n\r\n// 课程包点击\r\nfunction bagClick() {\r\n  var bagitem = document.querySelectorAll('.bag_content .bag_item')\r\n  for (var i = 0; i < bagitem.length; i++) {\r\n    bagitem[i].index = i\r\n    bagitem[i].onclick = function () {\r\n      var id = this.getAttribute('data-id')\r\n      $.ajax({\r\n        url: hosturl + '/index.php/Newindex/ispay',\r\n        type: 'get',\r\n        dataType: 'json',\r\n        data: {\r\n          id: id\r\n        },\r\n        success: function (data) {\r\n          // 支付成功\r\n          if (data.status === 1) {\r\n            window.location.href = hosturl + '/index.php/Newautolive/index/id/' + id\r\n          } else {\r\n            window.location.href = hosturl + '/index.php/Newindex/curdetail/id/' + data.id\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// 线下活动点击\r\nfunction offLineClick() {\r\n  var offLineItem = document.querySelectorAll('.off_line_activity .activity_item')\r\n  for (var i = 0; i < offLineItem.length; i++) {\r\n    offLineItem[i].index = i\r\n    offLineItem[i].onclick = function () {\r\n      var id = this.getAttribute('data-id')\r\n      console.log(id)\r\n      $.ajax({\r\n        url: hosturl + '/index.php/Share/ticketdata',\r\n        type: 'get',\r\n        dataType: 'json',\r\n        data: {\r\n          id: id\r\n        },\r\n        success: function (data) {\r\n          // 支付成功\r\n          if (data.ispay === 2) {\r\n            window.location.href = `${hosturl}/index.php/Client/ticket/id/${id}`\r\n          } else {\r\n            window.location.href = `${hosturl}/index.php/Client/playticket/id/${id}`\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// 线下活动\r\nfunction offLine(info) {\r\n  var str = ''\r\n  var cat38 = 'cat' + info[0].cid\r\n  var categoryname = 'categoryname' + info[0].cid\r\n  console.log(cat38)\r\n  var dataInfo = info[0][cat38]\r\n  console.log(dataInfo)\r\n  homeadvance.append(\r\n    `\r\n      <div class=\"off_line_activity history\">\r\n        <h2>${info[0][categoryname]}</h2>\r\n        <ul class=\"activity_content\"></ul>\r\n      </div>\r\n    `\r\n  )\r\n\r\n  for (var i = 0; i < dataInfo.length; i++) {\r\n    str += `\r\n      <li class=\"activity_item\" data-id=\"${dataInfo[i].id}\">\r\n        <div class=\"activity_left\">\r\n          <img src=\"${dataInfo[i].tickets_picture}\" alt=\"\">\r\n        </div>\r\n        <div class=\"activity_right\">\r\n          <div class=\"activity_title\">\r\n            <h2>${dataInfo[i].tickets_name}</h2>\r\n          </div>\r\n          <div class=\"time_where\">\r\n            <time>${dataInfo[i].tickets_crettime} | ${dataInfo[i].tikeaddress}</time>\r\n          </div>\r\n          <div class=\"activity_money\">\r\n            <span class=\"money_sum\">${dataInfo[i].tickets_oldprice}</span>\r\n            <span class=\"money_unit\">元</span>\r\n          </div>\r\n          <div class=\"owner_info\">\r\n            <div class=\"activity_sponsor\">主办方: ${dataInfo[i].zuzhizhe}</div>\r\n            <div class=\"activity_speaker\">主讲人: ${dataInfo[i].zhujiangren}</div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    `\r\n  }\r\n  $('.off_line_activity .activity_content').html(str)\r\n}\r\n\r\n// 精品推荐\r\nfunction tagContent(tabInfo) {\r\n  var onFalse = true\r\n  homeadvance.html(\r\n    '<div id=\"class_advance\" class=\"class_advance choose_craful\" style=\"display: none\">' +\r\n    '<h2 class=\"live_advance\">直播预告</h2>' +\r\n    '<ul class=\"class_advance\"></ul>' +\r\n    '</div>'\r\n  )\r\n  var strr = ''\r\n  for (var i = 0; i < tabInfo.length; i++) {\r\n    var categoryname = tabInfo[i]['categoryname' + tabInfo[i].cid]\r\n    console.log(categoryname)\r\n    var blockTitle = tabInfo[i]['cat' + tabInfo[i].cid]\r\n    var str = ''\r\n    // 心理健康\r\n    if (categoryname === '心理健康课' || categoryname === '心理健康课') {\r\n      homeadvance.append(\r\n        '<div id=\"audio_advance\" class=\"audio_advance choose_craful\">' +\r\n        '<h2 class=\"audio_title\"></h2>' +\r\n        '<ul class=\"audio_content\"></ul>' +\r\n        '</div>'\r\n      )\r\n      var audiotitle = $('#audio_advance .audio_title')\r\n      audiotitle.text(categoryname)\r\n      var audiocontent = $('#audio_advance .audio_content')\r\n      for (var k = 0; k < blockTitle.length; k++) {\r\n        var id = blockTitle[k].id,\r\n          picture = blockTitle[k].picture,\r\n          name = blockTitle[k].name,\r\n          audiotitle = blockTitle[k].title.trim(),\r\n          time = new Date(Number(blockTitle[k].starttime) * 1000).toLocaleDateString()\r\n        audiocontent.append(\r\n          '<li class=\"audio_item\">' +\r\n          '<a class=\"audio_wrapper history\" data-id=\"' + id + '\" href=\"' + hosturl + '/index.php/Index/livedeil_0/id/' + id + '\">' +\r\n          '<i class=\"icon\">' +\r\n          '<img src=\"' + picture + '\" alt=\"\">' +\r\n          '</i>' +\r\n          '<span class=\"audio_info\">' +\r\n          '<span class=\"audio_title\">' + audiotitle + '</span>' +\r\n          '<span class=\"audio_owner\">' + name + '</span>' +\r\n          '<span class=\"audio_hot\">' +\r\n          '<time>' + time + '</time>' +\r\n          '</span>' +\r\n          '</span>' +\r\n          '</a>' +\r\n          '</li>'\r\n        )\r\n      }\r\n    } else if (categoryname === '精品课程包') {\r\n      console.log('精品课程包')\r\n      homeadvance.append(\r\n        `<div class=\"class_bag choose_craful\">\r\n            <h2>${categoryname}</h2>\r\n            <ul class=\"bag_content\">    \r\n            </ul>\r\n          </div>`\r\n      )\r\n      var bagcontent = $('.class_bag .bag_content')\r\n      for (var l = 0; l < blockTitle.length; l++) {\r\n        var ids = blockTitle[l].id,\r\n          pictures = blockTitle[l].picture,\r\n          names = blockTitle[l].name,\r\n          audiotitles = blockTitle[l].title.trim(),\r\n          bagprice = blockTitle[l].price,\r\n          sumi = blockTitle[l].sumi,\r\n          suming = blockTitle[l].suming\r\n        bagcontent.append(`\r\n        <li class=\"bag_item\" data-id=\"${ids}\">\r\n        <a class=\"bag_wrapper history\" href=\"javascript:\">\r\n          <i class=\"icon\">\r\n            <img\r\n                src=\"${pictures}\"\r\n                alt=\"\">\r\n          </i>\r\n          <span class=\"audio_info\">\r\n            <span class=\"audio_title\">${audiotitles}</span>\r\n            <span class=\"audio_owner\">${names}</span>\r\n            <span class=\"audio_hot\">\r\n              <span>更新至第${suming}课/共${sumi}课</span>\r\n              <!--<span>126购买</span>-->\r\n              <span class=\"bag_price\">￥${bagprice}</span>\r\n            </span>\r\n          </span>\r\n        </a>\r\n      </li>\r\n        `)\r\n      }\r\n    } else {\r\n      var str = ''\r\n      for (var j = 0; j < blockTitle.length; j++) {\r\n        var listcontent = $('#home_advance .list_content')\r\n        var ids = blockTitle[j].id,\r\n          pictures = blockTitle[j].picture,\r\n          names = blockTitle[j].name,\r\n          audiotitles = blockTitle[j].title,\r\n          livetype = Number(blockTitle[j].livetype),\r\n          playurl = '',\r\n          logourl = '',\r\n          statuss = Number(blockTitle[j].statuss),\r\n          ischoes = Number(blockTitle[j].ischoes),\r\n          price = Number(blockTitle[j].price)\r\n        // 语音课程\r\n        if (livetype === 2) {\r\n          playurl = 'Index/livedeil_0'\r\n          logourl = 'https://cdn2.qnzsvk.cn/static/20170915/images/all_live_audio@2x.png'\r\n        } else { // 视频课程\r\n          playurl = 'Newautolive/index'\r\n          logourl = 'https://cdn2.qnzsvk.cn/static/20170915/images/all_live_video@2x.png'\r\n          if (statuss === 2) {\r\n            if (price === 0.00) {\r\n              playurl = 'Newautolive/index'\r\n            } else {\r\n              if (ischoes === 2) {\r\n                playurl = 'curdetailpage'\r\n              } else {\r\n                playurl = 'curdetail'\r\n              }\r\n            }\r\n          } else if (statuss === 1) {\r\n            playurl = 'Newautolive/index'\r\n          }\r\n        }\r\n        str +=\r\n          '<li class=\"single_video\">' +\r\n          '<a class=\"single_list_wrapper history\" data-id=\"' + ids + '\" href=\"' + hosturl + '/index.php/' + playurl + '/id/' + ids + '\">' +\r\n          '<section class=\"list_header\">' +\r\n          '<span class=\"list_header_info\">' +\r\n          '<img class=\"class_type\" src=\"' + logourl + '\" alt=\"\">' +\r\n          '<p class=\"is_free\">免费</p>' +\r\n          '</span>' +\r\n          '<img src=\"' + pictures + '\" alt=\"\">' +\r\n          '<span class=\"title\">' +\r\n          '<title class=\"video_introduce\">' + audiotitles + '</title>' +\r\n          '</span>' +\r\n          '</section>' +\r\n          '<p class=\"video_owner\">' + names + '</p>' +\r\n          '</a>' +\r\n          '</li>'\r\n      }\r\n      homeadvance.append(\r\n        '<div class=\"video_audio choose_craful\">' +\r\n        '<h2>' + categoryname + '</h2>' +\r\n        '<ul class=\"list_content\">' + str + '</ul>' +\r\n        '</div>'\r\n      )\r\n    }\r\n  }\r\n  setTimeout(function () {\r\n    loading('none')\r\n  }, 300)\r\n}\r\n\r\n// 遮罩数据筛选\r\nfunction masktagContent(otherdata) {\r\n  homeadvance.html(\r\n    '<div id=\"audio_advance\" class=\"audio_advance choose_craful\">' +\r\n    '<ul class=\"audio_content\">' + '</ul>' +\r\n    '</div>' +\r\n    '<div class=\"video_audio choose_craful\">' +\r\n    '<ul class=\"list_content\">' + '</ul>' +\r\n    '</div>'\r\n  )\r\n  var audioadvance = $('#audio_advance .audio_content')\r\n  var videoaudio = $('.video_audio .list_content')\r\n  for (var i = 0; i < otherdata.length; i++) {\r\n    if (otherdata[i]) {\r\n      var livetype = Number(otherdata[i].livetype) || '',\r\n        id = otherdata[i].id,\r\n        picture = otherdata[i].picture,\r\n        audiotitle = otherdata[i].content,\r\n        title = otherdata[i].title.trim(),\r\n        time = new Date(Number(otherdata[i].starttime) * 1000).toLocaleDateString(),\r\n        ischoes = Number(otherdata[i].ischoes),\r\n        price = otherdata[i].price,\r\n        logourl = '',\r\n        name = otherdata[i].name\r\n      // 语音消息\r\n      if (livetype === 2) {\r\n        logourl = 'https://cdn2.qnzsvk.cn/static/20170915/images/all_live_audio@2x.png'\r\n        audioadvance.append(\r\n          '<li class=\"audio_item\">' +\r\n          '<a class=\"audio_wrapper history\" data-id=\"' + id + '\" href=\"' + hosturl + '/index.php/Index/livedeil_0/id/' + id + '\">' +\r\n          '<i class=\"icon\">' +\r\n          '<img src=\"' + picture + '\" alt=\"\">' +\r\n          '</i>' +\r\n          '<span class=\"audio_info\">' +\r\n          '<span class=\"audio_title\">' + title + '</span>' +\r\n          '<span class=\"audio_owner\">' + name + '</span>' +\r\n          '<span class=\"audio_hot\">' +\r\n          '<time>' + time + '</time>' +\r\n          '</span>' +\r\n          '</span>' +\r\n          '</a>' +\r\n          '</li>'\r\n        )\r\n      } else if (livetype === 1) {\r\n        logourl = 'https://cdn2.qnzsvk.cn/static/20170915/images/all_live_video@2x.png'\r\n        videoaudio.append(\r\n          '<li class=\"single_video\">' +\r\n          '<a class=\"single_list_wrapper history\" data-id=\"' + id + '\" href=\"' + hosturl + '/index.php/Newautolive/index/id/' + id + '\">' +\r\n          '<section class=\"list_header\">' +\r\n          '<span class=\"list_header_info\">' +\r\n          '<img class=\"class_type\" src=\"' + logourl + '\" alt=\"\">' +\r\n          '<p class=\"is_free\">免费</p>' +\r\n          '</span>' +\r\n          '<img src=\"' + picture + '\" alt=\"\">' +\r\n          '<span class=\"title\">' +\r\n          '<title class=\"video_introduce\">' + title + '</title>' +\r\n          '</span>' +\r\n          '</section>' +\r\n          '<p class=\"video_owner\">' + name + '</p>' +\r\n          '</a>' +\r\n          '</li>'\r\n        )\r\n      }\r\n    }\r\n  }\r\n  // loading样式消失\r\n  loading('none')\r\n}\r\n\r\n// 直播信息函数\r\nfunction liveInfo(liveinfo) {\r\n  var advanveWrapper = $('#class_advance')\r\n  var classadvanve = $('#class_advance .class_advance')\r\n  var id = liveinfo.id,\r\n    picture = liveinfo.picture,\r\n    title = liveinfo.title,\r\n    livetime = liveinfo.starttime,\r\n    spker = liveinfo.spker,\r\n    jianjie = liveinfo.jianjie,\r\n    willlivetime = new Date(Number(liveinfo.starttime) * 1000).toLocaleString(),\r\n    liveoff = Number(liveinfo.status),\r\n    livetype = Number(liveinfo.livetype),\r\n    liveurl = '',\r\n    livetagsrc = ''\r\n  if (livetype === 1) {\r\n    livetagsrc = \"https://cdn2.qnzsvk.cn/static/20170915/images/all_live_video@2x.png\"\r\n    liveurl = 'Newautolive/index'\r\n  } else if (livetype === 2) {\r\n    livetagsrc = \"https://cdn2.qnzsvk.cn/static/20170915/images/all_live_audio@2x.png\"\r\n    liveurl = 'Index/autolive'\r\n  }\r\n  if (liveoff === 1) {\r\n    advanveWrapper.css('display', 'block')\r\n    classadvanve.html(\r\n      '<li class=\"live\">' +\r\n      '<a  class=\"history\" data-id=\"' + id + '\" href=\"' + hosturl + '/index.php/' + liveurl + '/id/' + id + '\">' +\r\n      '<span class=\"list_header\">' +\r\n      '<span class=\"list_header_info\">' +\r\n      '<img class=\"class_type\" src=\"' + livetagsrc + '\" alt=\"\">' +\r\n      '<p class=\"is_free\">免费</p>' +\r\n      '</span>' +\r\n      '<img class=\"live_img\" src=\"' + picture + '\" alt=\"\">' +\r\n      '<span class=\"title all-cut-time\">' +\r\n      '</span>' +\r\n      '</span>' +\r\n      '<span class=\"live_introdus\">' +\r\n      '<span class=\"title\">' + title + '</span>' +\r\n      '<span class=\"live_user\">' + spker + '</span>' +\r\n      '<span id=\"living_mark\" class=\"status\">' + willlivetime + '</span>' +\r\n      '</span>' +\r\n      '</a>' +\r\n      '</li>'\r\n    )\r\n  }\r\n\r\n  // 模拟倒计时\r\n  var startime = livetime;\r\n  //是否直播1是0否\r\n  var living = livetype;\r\n  // 当前时间\r\n  var timestamp = Math.round(new Date().getTime() / 1000);\r\n  // 时间\r\n  var newtime = startime - timestamp;\r\n  var intDiff = newtime;\r\n  // 直播倒计时函数\r\n  countDown(intDiff, living);\r\n}\r\n\r\n\r\n// 选项卡构造函数\r\nfunction TabCenter(tab, tabContents, tabMsk, Swiper, homeadvance) {\r\n  // 选项卡外框\r\n  this.tab = tab\r\n  // 选项卡内容\r\n  this.tabContents = tabContents\r\n  // 滑块对象\r\n  this.mySwiper = Swiper\r\n  // 头部标签\r\n  this.tabMsk = tabMsk\r\n  // 选项卡宽度\r\n  this.swiperWidth = Swiper.container[0].clientWidth\r\n  // 最大移动距离\r\n  this.maxTranslate = Swiper.maxTranslate()\r\n  // 最大宽度\r\n  this.maxWidth = this.swiperWidth / 2 - this.maxTranslate\r\n  // 上一次点击的下标\r\n  this.prevIndex = 0\r\n  this.homeadvance = homeadvance\r\n  // 选择的对象\r\n  this.tagss = {}\r\n  // 筛选的ID\r\n  this.cid = {0: ''}\r\n  // 开关\r\n  this.onOff = true\r\n  // 后端遮罩筛选数据\r\n  this.tagsstr = ''\r\n}\r\n\r\n// 选项卡构造函数 初始化函数\r\nTabCenter.prototype.init = function () {\r\n  var This = this\r\n  this.mySwiper.on('tap', function (swiper) {\r\n    This.slideClick(swiper, This)\r\n    chooseObj.tags = ''\r\n    This.tagsstr = ''\r\n    This.clearObj(This.tagss)\r\n  })\r\n};\r\n// 选项卡点击居中\r\nTabCenter.prototype.slideClick = function (swiper, This) {\r\n  // swiper-slide\r\n  var slide = swiper.slides[swiper.clickedIndex]\r\n  // 被点击slide的中心点\r\n  var slideCenter = slide.offsetLeft + slide.clientWidth / 2\r\n  // 点击下标\r\n  var clickedIndex = swiper.clickedIndex\r\n  // tab转场\r\n  This.mySwiper.setWrapperTransition(10)\r\n  if (slideCenter < This.swiperWidth / 2) {\r\n    This.mySwiper.setWrapperTranslate(0)\r\n  } else if (slideCenter > This.maxWidth) {\r\n    This.mySwiper.setWrapperTranslate(This.maxTranslate)\r\n  } else {\r\n    var nowTlanslate = slideCenter - This.swiperWidth / 2\r\n    This.mySwiper.setWrapperTranslate(-nowTlanslate)\r\n  }\r\n  // slide 加active样式\r\n  This.slideActive(clickedIndex, This.tab)\r\n  // 选项卡内容切换\r\n  var tabContents = This.tabContents\r\n  var slideContent = swiper.slides[clickedIndex].getElementsByTagName('span')[0].innerText;\r\n  var slideobj = swiper.slides[clickedIndex]\r\n  This.tabListChange(tabContents, clickedIndex, This, slideContent, slideobj)\r\n\r\n};\r\n// 选项卡加样式\r\nTabCenter.prototype.slideActive = function (clickedIndex, tab) {\r\n  tab.find('.active').removeClass('active')\r\n  tab.find('.swiper-slide').eq(clickedIndex).addClass('active')\r\n};\r\n// 选项卡内容切换\r\nTabCenter.prototype.tabListChange = function (tabContents, index, This, slideContent, slideobj) {\r\n  if (index === 0) {\r\n    This.tabMsk.css('display', 'none')\r\n    advanceData('')\r\n  } else {\r\n    This.homeadvance.html(\r\n      '<div id=\"audio_advance\" class=\"audio_advance choose_craful\">' +\r\n      '<ul class=\"audio_content\">' + '</ul>' +\r\n      '</div>' +\r\n      '<div class=\"video_audio choose_craful\">' +\r\n      '<ul class=\"list_content\">' + '</ul>' +\r\n      '</div>' +\r\n      '<div class=\"class_bag choose_craful\">' +\r\n      '<ul class=\"bag_content\">' + '</ul>' +\r\n      '</div>' +\r\n      '<div class=\"off_line_activity history\">' +\r\n      '<ul class=\"activity_content\">' +\r\n      '</ul>' +\r\n      '</div>'\r\n    )\r\n    var listcontent = ''\r\n    var tabId = slideobj.getAttribute('data-id')\r\n    var page = 0\r\n    var onOff = true\r\n    // 分页\r\n    This.homeadvance.dropload({\r\n      scrollArea: window,\r\n      domDown: {\r\n        domClass: 'dropload-down',\r\n        domRefresh: '',\r\n        domLoad: '<img width=\"24\" height=\"24\" src=\"https://cdn2.qnzsvk.cn/static/20170919/qnvk_2.0/images/loading.gif\" alt=\"\"><span>加载中...</span>',\r\n        domNoData: '- 暂时没有了哦 -'\r\n      },\r\n      distance: 50,\r\n      loadDownFn: function (me) {\r\n        page++;\r\n        // 拼接HTML\r\n        var result = '';\r\n        var logourl = ''\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Newindex/info',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          data: {\r\n            id: tabId,\r\n            tags: '',\r\n            page: page\r\n          },\r\n          success: function (data) {\r\n            console.log(data)\r\n            if (onOff && data.infolist.length > 0) {\r\n              if (data.infolist[0].livetype === '2' && data.infolist[0].ischoes !== '2') {\r\n                // '语音'\r\n                listcontent = $('#audio_advance .audio_content')\r\n              } else if (data.infolist[0].livetype === '1' && data.infolist[0].ischoes !== '2') {\r\n                // '视频'\r\n                listcontent = $('#home_advance .list_content')\r\n              } else if (data.infolist[0].ischoes === '2') {\r\n                // '精选课程包'\r\n                listcontent = $('.class_bag .bag_content')\r\n              } else if (data.infolist[0].tickettype === '2') {\r\n                // '线下活动'\r\n                listcontent = $('.off_line_activity .activity_content')\r\n              }\r\n              onOff = false\r\n            }\r\n            var arrLen = data.infolist.length;\r\n            var otherdata = data.infolist\r\n            if (arrLen > 0) {\r\n              for (var i = 0; i < arrLen; i++) {\r\n                var livetype = Number(otherdata[i].livetype ? otherdata[i].livetype : ''),\r\n                  id = otherdata[i].id,\r\n                  picture = otherdata[i].picture ? otherdata[i].picture : '',\r\n                  audiotitle = otherdata[i].content ? otherdata[i].content : '',\r\n                  title = otherdata[i].title ? otherdata[i].title.trim() : '',\r\n                  time = new Date(Number(otherdata[i].starttime ? otherdata[i].starttime : '') * 1000).toLocaleDateString(),\r\n                  ischoes = Number(otherdata[i].ischoes),\r\n                  name = otherdata[i].name ? otherdata[i].name : '',\r\n                  price = otherdata[i].price ? otherdata[i].price : '',\r\n                  sumi = otherdata[i].sumi ? otherdata[i].sumi : '',\r\n                  suming = otherdata[i].suming ? otherdata[i].suming : '',\r\n                  tickettype = otherdata[i].tickettype ? otherdata[i].tickettype : ''\r\n                // 语音课程\r\n                if (livetype === 2 && ischoes !== 2) {\r\n                  result +=\r\n                    '<li class=\"audio_item\" data-id=\"' + id + '\">' +\r\n                    '<a class=\"audio_wrapper history\"  href=\"' + hosturl + '/index.php/Index/livedeil_0/id/' + id + '\">' +\r\n                    '<i class=\"icon\">' +\r\n                    '<img src=\"' + picture + '\" alt=\"\">' +\r\n                    '</i>' +\r\n                    '<span class=\"audio_info\">' +\r\n                    '<span class=\"audio_title\">' + title + '</span>' +\r\n                    '<span class=\"audio_owner\">' + name + '</span>' +\r\n                    '<span class=\"audio_hot\">' +\r\n                    '<time>' + time + '</time>' +\r\n                    '</span>' +\r\n                    '</span>' +\r\n                    '</a>' +\r\n                    '</li>'\r\n                  // 视频\r\n                } else if (livetype === 1 && ischoes !== 2) {\r\n                  result +=\r\n                    '<li class=\"single_video\" data-id=\"' + id + '\" >' +\r\n                    '<a class=\"single_list_wrapper history\" href=\"' + hosturl + '/index.php/Newautolive/index/id/' + id + '\">' +\r\n                    '<section class=\"list_header\">' +\r\n                    '<span class=\"list_header_info\">' +\r\n                    '<img class=\"class_type\" src=\"https://cdn2.qnzsvk.cn/static/20170915/images/all_live_video@2x.png\" alt=\"\">' +\r\n                    '<p class=\"is_free\">免费</p>' +\r\n                    '</span>' +\r\n                    '<img src=\"' + picture + '\" alt=\"\">' +\r\n                    '<span class=\"title\">' +\r\n                    '<title class=\"video_introduce\">' + title + '</title>' +\r\n                    '</span>' +\r\n                    '</section>' +\r\n                    '<p class=\"video_owner\">' + name + '</p>' +\r\n                    '</a>' +\r\n                    '</li>'\r\n                  // 课程包\r\n                } else if (livetype && ischoes === 2) {\r\n                  result += `\r\n                    <li class=\"bag_item\" data-id=\"${id}\">\r\n                      <a class=\"bag_wrapper history\" href=\"javascript:\">\r\n                        <i class=\"icon\">\r\n                          <img\r\n                              src=\"${picture}\"\r\n                              alt=\"\">\r\n                        </i>\r\n                        <span class=\"audio_info\">\r\n                          <span class=\"audio_title\">${title}</span>\r\n                          <span class=\"audio_owner\">${name}</span>\r\n                          <span class=\"audio_hot\">\r\n                            <span>更新至第${suming}课/共${sumi}课</span>\r\n                            <!--<span>126购买</span>-->\r\n                            <span class=\"bag_price\">￥${price}</span>\r\n                          </span>\r\n                        </span>\r\n                      </a>\r\n                    </li>\r\n                  `\r\n                } else if (tickettype) {\r\n                  result += `\r\n                    <li class=\"activity_item\"  data-id=\"${otherdata[i].id}\">\r\n                      <div class=\"activity_left\">\r\n                        <img\r\n                           src=\"${otherdata[i].tickets_picture}\"\r\n                           alt=\"\"\r\n                        >\r\n                      </div>\r\n                      <div class=\"activity_right\">\r\n                        <div class=\"activity_title\">\r\n                          <h2>${otherdata[i].tickets_name}</h2>\r\n                        </div>\r\n                        <div class=\"time_where\">\r\n                          <time>${otherdata[i].tickets_crettime} | ${otherdata[i].tikeaddress}</time>\r\n                        </div>\r\n                        <div class=\"activity_money\">\r\n                          <span class=\"money_sum\">${otherdata[i].tickets_oldprice}</span>\r\n                          <span class=\"money_unit\">元</span>\r\n                        </div>\r\n                        <div class=\"owner_info\">\r\n                          <div class=\"activity_sponsor\">主办方: ${otherdata[i].zuzhizhe}</div>\r\n                          <div class=\"activity_speaker\">主讲人: ${otherdata[i].zhujiangren}</div>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  `\r\n                }\r\n              }\r\n            } else {\r\n              // 锁定\r\n              me.lock();\r\n              // 无数据\r\n              me.noData();\r\n            }\r\n            // 插入数据到页面，放到最后面\r\n            if (listcontent) {\r\n              listcontent.append(result);\r\n            }\r\n            // 每次数据插入，必须重置\r\n            me.resetload();\r\n          },\r\n          error: function (xhr, type) {\r\n            console.log('Ajax error!');\r\n            // 即使加载出错，也得重置\r\n            me.resetload();\r\n          }\r\n        }).done(function () {\r\n          // 记录历史记录\r\n          history()\r\n          // 课程包点击\r\n          bagClick()\r\n          // 线下活动点击\r\n          offLineClick()\r\n        });\r\n      }\r\n    });\r\n\r\n    // 获取遮罩数据\r\n    $.ajax({\r\n      url: hosturl + '/index.php/Newindex/tags/id/' + tabId,\r\n      type: 'get',\r\n      dataType: 'json',\r\n      success: function (data) {\r\n        // 遮罩数据渲染函数\r\n        This.maskData(data.tagslist, This)\r\n        if (data.tagslist.length) {\r\n          This.tabMsk.css('display', 'block')\r\n        } else {\r\n          This.tabMsk.css('display', 'none')\r\n        }\r\n      },\r\n      error: function (err) {\r\n        console.log(err)\r\n      }\r\n    }).done(function () {\r\n      // 选项卡过滤\r\n      var tabMskDetials = This.tabMsk.get(0).getElementsByTagName('div')\r\n      This.tabFilter(tabMskDetials, This)\r\n    })\r\n  }\r\n  This.cid[0] = tabId\r\n};\r\n// 页面滚动\r\nTabCenter.prototype.windowScroll = function () {\r\n  $(window).scroll(function () {\r\n    var bodyScroll = document.body.scrollTop || document.documentElement.scrollTop\r\n  })\r\n}\r\n// 遮罩数据点击过滤\r\nTabCenter.prototype.tabFilter = function (maskcontent, This) {\r\n  var itemA = null;\r\n  var prevMsk = null;\r\n  for (var k = 0; k < maskcontent.length; k++) {\r\n    itemA = maskcontent[k].querySelectorAll(\"span\");\r\n    maskcontent[k].prevNode = null;\r\n    maskcontent[k].index = k;\r\n    for (var m = 0; m < itemA.length; m++) {\r\n      itemA[m].onOff = true\r\n      itemA[m].index = m\r\n      itemA[m].addEventListener('touchstart', function () {\r\n        chooseObj.tags = ' '\r\n        This.tagsstr = ''\r\n        var parent = this.parentNode;\r\n        if (parent.prevNode) {\r\n          parent.prevNode.className = ''\r\n        }\r\n        // 点击切换筛选明细状态\r\n        if (this.onOff && prevMsk !== this) {\r\n          this.className = 'search_active';\r\n          this.onOff = false\r\n          This.tagss[parent.index + 1] = this.getAttribute('data-id')\r\n          for (var attr in This.tagss) {\r\n            This.tagsstr += This.tagss[attr] + ','\r\n          }\r\n        } else {\r\n          if (prevMsk === this && !this.onOff) {\r\n            this.className = ''\r\n            this.onOff = true\r\n            This.tagss[parent.index + 1] = ''\r\n            for (var key in This.tagss) {\r\n              This.tagsstr += This.tagss[key] + ','\r\n            }\r\n          } else {\r\n            this.className = 'search_active';\r\n            this.onOff = false\r\n            This.tagss[parent.index + 1] = this.getAttribute('data-id')\r\n            for (var attr in This.tagss) {\r\n              This.tagsstr += This.tagss[attr] + ','\r\n            }\r\n          }\r\n        }\r\n        parent.prevNode = this;\r\n        prevMsk = this;\r\n        // 传给后台筛选数据的参数\r\n        var reg = /\\d+/g\r\n        if (reg.test(This.tagsstr)) {\r\n          chooseObj.tags = This.tagsstr.match(reg).join(',') + ','\r\n        } else {\r\n          chooseObj.tags = ''\r\n        }\r\n        chooseObj.id = This.cid[0]\r\n        console.log(chooseObj)\r\n        // 数据筛选\r\n        advanceData(chooseObj)\r\n      })\r\n    }\r\n  }\r\n};\r\n// 遮罩数据获取;\r\nTabCenter.prototype.maskData = function (data, This) {\r\n  var str1 = '',\r\n    str2 = '',\r\n    str3 = '',\r\n    sum = 0\r\n  for (var i = 0; i < data.length; i++) {\r\n    var tag2 = data[i].tag2,\r\n      tag3 = data[i].tag3,\r\n      tag4 = data[i].tag4,\r\n      id2 = data[i].ta2,\r\n      id3 = data[i].ta3,\r\n      id4 = data[i].ta4\r\n    if (tag2) {\r\n      str1 += '<span data-id=\"' + id2 + '\">' + tag2 + '</span>'\r\n      This.tabMsk.find('.objects').find('h2').css('display', 'block')\r\n      This.tabMsk.find('.objects').html('<h2>学科:</h2>' + str1)\r\n    }\r\n\r\n    if (tag3) {\r\n      str2 += '<span data-id=\"' + id3 + '\">' + tag3 + '</span>'\r\n      This.tabMsk.find('.stages').find('h2').css('display', 'block')\r\n      This.tabMsk.find('.stages').html('<h2>学段:</h2>' + str2)\r\n\r\n    } else {\r\n      sum++\r\n      if (sum === data.length) {\r\n        This.tabMsk.find('.stages').html(' ')\r\n      }\r\n    }\r\n    if (tag4 && false) {\r\n      str3 += '<span data-id=\"' + id4 + '\">' + tag4 + '</span>'\r\n      This.tabMsk.find('.classes').find('h2').css('display', 'block')\r\n      This.tabMsk.find('.classes').html('<h2>年级:</h2>' + str3)\r\n    }\r\n  }\r\n\r\n};\r\n// 清空筛选对象\r\nTabCenter.prototype.clearObj = function (obj) {\r\n  for (var attr in obj) {\r\n    delete obj[attr]\r\n  }\r\n};\r\n\r\n// 固定tab\r\nfunction TabFixed(tab, header) {\r\n  this.tab = $(tab)\r\n  this.headerHeight = $(header).height()\r\n}\r\n\r\nTabFixed.prototype.init = function () {\r\n  var This = this\r\n  $(window).scroll(function () {\r\n    var bodyScroll = document.body.scrollTop || document.documentElement.scrollTop\r\n    if (bodyScroll > This.headerHeight) {\r\n      This.tab.css({\r\n        position: 'fixed',\r\n        left: 0,\r\n        top: 0,\r\n        zIndex: 99\r\n      })\r\n    } else {\r\n      This.tab.css({\r\n        position: 'static'\r\n      })\r\n    }\r\n  })\r\n};\r\n\r\n// 直播倒计时函数\r\nfunction countDown(intDiff, living) {\r\n  // 设置定时器\r\n  var timer = null;\r\n  var allCutTime = $('.all-cut-time')\r\n  var liveingMark = $('#living_mark')\r\n  timer = setInterval(function () {\r\n    var day = 0,\r\n      hour = 0,\r\n      minute = 0,\r\n      second = 0;\r\n    //时间默认值\r\n    if (intDiff > 0) {\r\n      day = Math.floor(intDiff / (60 * 60 * 24));\r\n      hour = Math.floor(intDiff / (60 * 60)) - (day * 24);\r\n      minute = Math.floor(intDiff / 60) - (day * 24 * 60) - (hour * 60);\r\n      second = Math.floor(intDiff) - (day * 24 * 60 * 60) - (hour * 60 * 60) - (minute * 60);\r\n      if (minute <= 9)\r\n        minute = '0' + minute;\r\n      if (second <= 9)\r\n        second = '0' + second;\r\n    } else if (intDiff < 0 && living === 1) {\r\n      allCutTime.html(\r\n        '<span class=\"video_introduce\">直播进行中...</span>'\r\n      );\r\n      liveingMark.html('直播中...')\r\n      // 清除定时器\r\n      clearInterval(timer);\r\n      return;\r\n    } else if (living === 2) {\r\n      allCutTime.html(\r\n        '<span class=\"video_introduce\">直播进行中...</span>'\r\n      );\r\n      liveingMark.html('直播中...')\r\n      // 清除定时器\r\n      clearInterval(timer);\r\n      return;\r\n    }\r\n    allCutTime.html(\r\n      '<span>倒计时：</span>' +\r\n      '<span>' + day + '天' + hour + '时' + minute + '分' + second + '秒' + '</span>'\r\n    )\r\n    intDiff--;\r\n  }, 1000);\r\n}\r\n\r\n// loading样式\r\nfunction loading(showhide) {\r\n  $('.loading').css('display', showhide)\r\n}\r\n\r\n// 历史记录\r\nfunction history() {\r\n  setTimeout(function () {\r\n    var history = document.querySelectorAll('.history')\r\n    for (var i = 0; i < history.length; i++) {\r\n      history[i].addEventListener('click', function () {\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Index/addsee',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          data: {\r\n            live_id: this.getAttribute('data-id'),\r\n            playtime: new Date().getTime()\r\n          },\r\n          success: function (data) {\r\n            console.log(data)\r\n          }\r\n        })\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Newautolive/seecount',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          data: {\r\n            id: this.getAttribute('data-id')\r\n          },\r\n          success: function (data) {\r\n            console.log(data)\r\n          },\r\n          error: function (err) {\r\n            console.log(err)\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }, 200)\r\n}\r\n\r\n// 分享提示\r\nfunction ShareRemind() {\r\n  this.body = $('body')\r\n}\r\n\r\nShareRemind.prototype.init = function () {\r\n  var This = this\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/tanchu',\r\n    type: 'get',\r\n    dataType: 'json',\r\n    success: function (data) {\r\n      console.log(data)\r\n      if (data == null) {\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Newindex/tanchu2',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          success: function (data) {\r\n            console.log(data)\r\n            if (data) {\r\n              var imgSrc = data.tanchupath;\r\n              var imgUrl = data.tanchuurl;\r\n              This.body.append(\r\n                '<section id=\"rules\" class=\"center_box\">' +\r\n                '<div class=\"rules\">' +\r\n                '<div class=\"rules_content\">' +\r\n                '<img class=\"close_btn\" src=\"https://cdn2.qnzsvk.cn/static/20170927_/qnvk_2.0/images/popup_coupon_close_btn@3x.png\">' +\r\n                '<a href=\"' + imgUrl + '\">' +\r\n                '<img class=\"get_rules\" src=\" ' + imgSrc + ' \">' +\r\n                '</a>' +\r\n                '</div>' +\r\n                '</div>' +\r\n                '</section>'\r\n              )\r\n            }\r\n            This.close()\r\n          }\r\n        })\r\n\r\n      }\r\n    }\r\n  })\r\n}\r\nShareRemind.prototype.close = function () {\r\n  setTimeout(function () {\r\n    var closebtn = $('#rules .close_btn')\r\n    var rules = $('#rules')\r\n    var rulescontent = document.querySelector('#rules .rules')\r\n    closebtn.on('click', function () {\r\n      rules.css({\r\n        display: 'none'\r\n      })\r\n    })\r\n    rules.on('click', function () {\r\n      this.css({\r\n        display: 'none'\r\n      })\r\n    })\r\n    rulescontent.addEventListener('click', function (e) {\r\n      e.stopPropagation()\r\n    })\r\n  }, 500)\r\n}\r\n\r\n// 直播播放次数统计\r\nfunction livingNums() {\r\n  var livingSum = $('#class_advance').find('.history')\r\n  // livingSum.attr('href', 'javascript:')\r\n  livingSum.on('click', function () {\r\n    $.ajax({\r\n      url: hosturl + '/index.php/Newautolive/seecount',\r\n      type: 'get',\r\n      dataType: 'json',\r\n      data: {\r\n        id: this.getAttribute('data-id')\r\n      },\r\n      success: function (data) {\r\n        console.log(data)\r\n      },\r\n      error: function (err) {\r\n        console.log(err)\r\n      }\r\n    })\r\n  })\r\n}"]}