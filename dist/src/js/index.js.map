{"version":3,"sources":["../../../src/js/index.js"],"names":["$","advanceData","adandtabs","AdAndTabs","init","adWrapper","tabwrapper","tab","tabContents","document","querySelectorAll","tabMsk","header","homeadvance","prototype","This","ajax","url","hosturl","type","dataType","success","data","getAds","ad","defaultTagContent","cat","done","banner","Swiper","loop","autoplay","pagination","mySwiper","freeMode","freeModeMomentumRatio","slidesPerView","freeModeMomentumVelocityRatio","freeModeMomentumBounceRatio","touchRatio","tabcenter","TabCenter","activeStyle","adlist","i","length","adjieshao","ad_jieshao","imgUrl","adpath","adurl","append","list","tag1","title","id","find","eq","addClass","chooseObj","tags","console","log","tabInfo","info","tagContent","tanchu","shareremind","ShareRemind","guidance","Guidance","liveinfo","liveInfo","offLineActivity","ticketinfo","offLine","error","err","history","livingNums","bagClick","offLineClick","box","mask_list","share_mask","nav_mask","tab_mask","btn_group","know_btn","next_btn","all_mask","all_btn","swiper_slide","nextClick","knowClick","tabClick","boxHide","pageHide","_this","on","knowHide","swiper_text","children","text","css","display","overflow","height","closePost","obj","show_obj","removeClass","bagitem","index","onclick","getAttribute","status","window","location","href","offLineItem","ispay","str","cat38","cid","categoryname","dataInfo","tickets_picture","tickets_name","tickets_crettime","tikeaddress","tickets_oldprice","zuzhizhe","zhujiangren","html","onFalse","strr","blockTitle","audiotitle","audiocontent","k","picture","name","trim","time","Date","Number","starttime","toLocaleDateString","bagcontent","l","ids","pictures","names","audiotitles","bagprice","price","sumi","suming","j","listcontent","livetype","playurl","logourl","statuss","ischoes","setTimeout","loading","getTagMask","jsonp","advanveWrapper","classadvanve","livetime","spker","jianjie","willlivetime","toLocaleString","liveoff","liveurl","livetagsrc","startime","living","timestamp","Math","round","getTime","newtime","intDiff","countDown","swiperWidth","container","clientWidth","maxTranslate","maxWidth","prevIndex","tagss","onOff","tagsstr","swiper","slideClick","clearObj","slide","slides","clickedIndex","slideCenter","offsetLeft","setWrapperTransition","setWrapperTranslate","nowTlanslate","slideActive","slideContent","getElementsByTagName","innerText","slideobj","tabListChange","tabId","page","dropload","scrollArea","domDown","domClass","domRefresh","domLoad","domNoData","distance","loadDownFn","me","result","infolist","tickettype","arrLen","otherdata","content","lock","noData","resetload","xhr","maskData","tagslist","tabMskDetials","get","tabFilter","windowScroll","scroll","bodyScroll","body","scrollTop","documentElement","maskcontent","itemA","prevNode","m","addEventListener","parent","parentNode","className","attr","key","reg","test","match","join","str1","str2","str3","sum","tag2","tag3","tag4","id2","ta2","id3","ta3","id4","ta4","TabFixed","headerHeight","position","left","top","zIndex","timer","allCutTime","liveingMark","setInterval","day","hour","minute","second","floor","clearInterval","showhide","live_id","playtime","imgSrc","tanchupath","tanchuurl","close","closebtn","rules","rulescontent","querySelector","e","stopPropagation","livingSum"],"mappings":"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","file":"index.js","sourcesContent":["$(function () {\r\n  // 主页默认数据接口\r\n  advanceData()\r\n  // 广告和分类筛选tab构造函数\r\n  var adandtabs = new AdAndTabs()\r\n  adandtabs.init()\r\n})\r\n\r\n// 广告和分类筛选tab构造函数\r\nfunction AdAndTabs() {\r\n  // 广告外框\r\n  this.adWrapper = $('#banner .swiper-wrapper')\r\n  // 点击选项卡内容\r\n  this.tabwrapper = $('#tab .swiper-wrapper')\r\n  // 选项卡外层\r\n  this.tab = $('#tab');\r\n  this.tabContents = document.querySelectorAll('.tabs');\r\n  // 头部遮罩\r\n  this.tabMsk = $('.tab_mask');\r\n  this.header = $('.header');\r\n  this.homeadvance = $('#home_advance');\r\n}\r\n\r\nAdAndTabs.prototype.init = function () {\r\n  var This = this\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/ad',\r\n    type: 'get',\r\n    dataType: 'json',\r\n    success: function (data) {\r\n      // 广告数据\r\n      This.getAds(data.ad)\r\n      // 默认选项卡内容\r\n      This.defaultTagContent(data.cat)\r\n    }\r\n  }).done(function () {\r\n    // 轮播图\r\n    var banner = new Swiper('.swiper-container', {\r\n      loop: true,\r\n      autoplay: 5000,\r\n      pagination: '.swiper-pagination'\r\n    });\r\n    // 选项卡滑块\r\n    var mySwiper = new Swiper('#tab', {\r\n      freeMode: true,\r\n      freeModeMomentumRatio: 0,\r\n      slidesPerView: 'auto',\r\n      freeModeMomentumVelocityRatio: 0,\r\n      freeModeMomentumBounceRatio: 0,\r\n      touchRatio: 0.5\r\n    });\r\n    // 选项卡构造函数\r\n    var tabcenter = new TabCenter(This.tab, This.tabContents, This.tabMsk, mySwiper, This.homeadvance);\r\n    tabcenter.init();\r\n    // 选项卡active样式添加\r\n    This.activeStyle(This)\r\n  });\r\n}\r\n// 轮播数据\r\nAdAndTabs.prototype.getAds = function (adlist) {\r\n  for (var i = 0; i < adlist.length; i++) {\r\n    var adjieshao = adlist[i].ad_jieshao\r\n    var imgUrl = adlist[i].adpath\r\n    var adurl = adlist[i].adurl\r\n    this.adWrapper.append(\r\n      '<div class=\"swiper-slide\">' +\r\n      '<a href=\"' + adurl + '\">' +\r\n      '<img src=\"' + imgUrl + '\" alt=\"\">' +\r\n      '</a>' +\r\n      '<h2 class=\"swiper_title\">' + adjieshao + '</h2>' +\r\n      '</div>'\r\n    )\r\n  }\r\n}\r\n// 默认推荐选项卡内容\r\nAdAndTabs.prototype.defaultTagContent = function (list) {\r\n  for (var i = 0; i < list.length; i++) {\r\n    if (list[i].tag1 !== ' ') {\r\n      var title = list[i].tag1\r\n      var id = list[i].id\r\n      if (title) {\r\n        this.tabwrapper.append(\r\n          '<div class=\"swiper-slide\" data-id=\"' + id + '\">' +\r\n          '<span>' + title + '</span>' +\r\n          '</div>'\r\n        )\r\n      }\r\n    }\r\n  }\r\n}\r\n// 选项卡active样式添加\r\nAdAndTabs.prototype.activeStyle = function (This) {\r\n  This.tabwrapper.find('.swiper-slide').eq(0).addClass('active')\r\n}\r\n\r\n\r\nvar homeadvance = $('#home_advance');\r\n// 传入后端的对象\r\nvar chooseObj = {\r\n  id: '',\r\n  tags: ''\r\n};\r\n\r\n// 主页默认推荐选项卡数据接口\r\nfunction advanceData(chooseObj) {\r\n  $.ajax({\r\n      url: hosturl + '/index.php/Newindex/info',\r\n      type: 'get',\r\n      dataType: 'json',\r\n      data: chooseObj,\r\n      success: function (data) {\r\n        console.log(data);\r\n        // 首页选项卡数据\r\n        var tabInfo = data.info\r\n        if (tabInfo) {\r\n          tagContent(tabInfo)\r\n        }\r\n        if (data.tanchu === '2') {\r\n          // 分享引导\r\n          var shareremind = new ShareRemind()\r\n          shareremind.init();\r\n        } else if (data.tanchu === '1') {\r\n          // 弹窗引导\r\n          var guidance = new Guidance();\r\n        }\r\n\r\n        // 直播数据\r\n        var liveinfo = data.liveinfo\r\n        if (liveinfo) {\r\n          liveInfo(liveinfo)\r\n        }\r\n        // 线下活动\r\n        var offLineActivity = data.ticketinfo\r\n        if (offLineActivity) {\r\n          offLine(offLineActivity)\r\n        }\r\n      },\r\n      error: function (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n  ).done(function () {\r\n    history()\r\n    livingNums()\r\n    bagClick()\r\n    offLineClick()\r\n  })\r\n}\r\n\r\n\r\n//  推荐页弹窗引导\r\nclass Guidance {\r\n  constructor() {\r\n    this.box = $('.box');\r\n    this.mask_list = $('.mask_list');\r\n    this.share_mask = $('.share_mask');\r\n    this.nav_mask = $('.nav_mask');\r\n    this.tab_mask = $('.tabs_mask');\r\n    this.btn_group = $('.btn_group');\r\n    this.know_btn = $('.know_btn');\r\n    this.next_btn = $('.next_btn');\r\n    this.all_mask = this.mask_list.find('li');\r\n    this.all_btn = this.btn_group.find('div');\r\n    this.swiper_slide = $('.swiper-slide');\r\n    this.init();\r\n    this.nextClick();\r\n    this.knowClick();\r\n    this.tabClick();\r\n  }\r\n\r\n  // 初始化\r\n  init() {\r\n    boxHide(this);\r\n    pageHide(this.all_mask, this.share_mask);\r\n    pageHide(this.all_btn, this.next_btn);\r\n  }\r\n\r\n  // 点击下一步\r\n  nextClick() {\r\n    let _this = this;\r\n    this.next_btn.on('click', function () {\r\n      pageHide(_this.all_mask, _this.nav_mask);\r\n      pageHide(_this.all_btn, _this.know_btn);\r\n    })\r\n    this.share_mask.find('.share_mask_item').on('click', function () {\r\n      pageHide(_this.all_mask, _this.nav_mask);\r\n      pageHide(_this.all_btn, _this.know_btn);\r\n    })\r\n    this.tab_mask.find('.tab_mask_item').on('click', function () {\r\n      knowHide(_this);\r\n    })\r\n  }\r\n\r\n  // 点击我知道了\r\n  knowClick() {\r\n    let _this = this;\r\n    this.know_btn.on('click', function () {\r\n      knowHide(_this)\r\n    })\r\n    this.nav_mask.find('.nav_mask_item').on('click', function () {\r\n      knowHide(_this)\r\n    })\r\n  }\r\n\r\n  // 点击Tab\r\n  tabClick() {\r\n    let _this = this;\r\n    this.swiper_slide.on('click', function () {\r\n      const swiper_text = $(this).children('span').text();\r\n      if (swiper_text === '名师公益课' || swiper_text === '心理健康课') {\r\n        boxHide(_this);\r\n        pageHide(_this.all_mask, _this.tab_mask);\r\n        pageHide(_this.all_btn, _this.know_btn);\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction knowHide(_this) {\r\n  _this.mask_list.css({\r\n    display: 'none'\r\n  })\r\n  _this.box.css({\r\n    overflow: 'auto',\r\n    height: 'auto'\r\n  })\r\n  closePost();\r\n}\r\n\r\nfunction pageHide(obj, show_obj) {\r\n  obj.addClass('none');\r\n  show_obj.removeClass('none')\r\n}\r\n\r\nfunction boxHide(_this) {\r\n  _this.mask_list.css({\r\n    display: 'block'\r\n  });\r\n  _this.box.css({\r\n    overflow: 'hidden',\r\n    height: '100%'\r\n  })\r\n}\r\n\r\n// 关闭请求接口\r\nfunction closePost() {\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/sesstanchu',\r\n    type: 'post',\r\n    dataType: 'json',\r\n    success: function (data) {\r\n    },\r\n    error: function (err) {\r\n      console.log(err)\r\n    }\r\n  })\r\n}\r\n\r\n\r\n// 课程包点击\r\nfunction bagClick() {\r\n  var bagitem = document.querySelectorAll('.bag_content .bag_item')\r\n  for (var i = 0; i < bagitem.length; i++) {\r\n    bagitem[i].index = i\r\n    bagitem[i].onclick = function () {\r\n      var id = this.getAttribute('data-id')\r\n      $.ajax({\r\n        url: hosturl + '/index.php/Newindex/ispay',\r\n        type: 'get',\r\n        dataType: 'json',\r\n        data: {\r\n          id: id\r\n        },\r\n        success: function (data) {\r\n          // 支付成功\r\n          if (data.status === 1) {\r\n            window.location.href = hosturl + '/index.php/Newautolive/index/id/' + id\r\n          } else {\r\n            window.location.href = hosturl + '/index.php/Newindex/curdetail/id/' + data.id\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// 线下活动点击\r\nfunction offLineClick() {\r\n  var offLineItem = document.querySelectorAll('.off_line_activity .activity_item')\r\n  for (var i = 0; i < offLineItem.length; i++) {\r\n    offLineItem[i].index = i\r\n    offLineItem[i].onclick = function () {\r\n      var id = this.getAttribute('data-id')\r\n      console.log(id)\r\n      $.ajax({\r\n        url: hosturl + '/index.php/Share/ticketdata',\r\n        type: 'get',\r\n        dataType: 'json',\r\n        data: {\r\n          id: id\r\n        },\r\n        success: function (data) {\r\n          // 支付成功\r\n          if (data.ispay === 2) {\r\n            window.location.href = `${hosturl}/index.php/Client/ticket/id/${id}`\r\n          } else {\r\n            window.location.href = `${hosturl}/index.php/Client/playticket/id/${id}`\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// 线下活动\r\nfunction offLine(info) {\r\n  var str = ''\r\n  var cat38 = 'cat' + info[0].cid\r\n  var categoryname = 'categoryname' + info[0].cid\r\n  console.log(cat38)\r\n  var dataInfo = info[0][cat38]\r\n  console.log(dataInfo)\r\n  homeadvance.append(\r\n    `\r\n      <div class=\"off_line_activity history\">\r\n        <h2>${info[0][categoryname]}</h2>\r\n        <ul class=\"activity_content\"></ul>\r\n      </div>\r\n    `\r\n  )\r\n\r\n  for (var i = 0; i < dataInfo.length; i++) {\r\n    str += `\r\n      <li class=\"activity_item\" data-id=\"${dataInfo[i].id}\">\r\n        <div class=\"activity_left\">\r\n          <img src=\"${dataInfo[i].tickets_picture}\" alt=\"\">\r\n        </div>\r\n        <div class=\"activity_right\">\r\n          <div class=\"activity_title\">\r\n            <h2>${dataInfo[i].tickets_name}</h2>\r\n          </div>\r\n          <div class=\"time_where\">\r\n            <time>${dataInfo[i].tickets_crettime} | ${dataInfo[i].tikeaddress}</time>\r\n          </div>\r\n          <div class=\"activity_money\">\r\n            <span class=\"money_sum\">${dataInfo[i].tickets_oldprice}</span>\r\n            <span class=\"money_unit\">元</span>\r\n          </div>\r\n          <div class=\"owner_info\">\r\n            <div class=\"activity_sponsor\">主办方: ${dataInfo[i].zuzhizhe}</div>\r\n            <div class=\"activity_speaker\">主讲人: ${dataInfo[i].zhujiangren}</div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    `\r\n  }\r\n  $('.off_line_activity .activity_content').html(str)\r\n}\r\n\r\n// 精品推荐\r\nfunction tagContent(tabInfo) {\r\n  var onFalse = true\r\n  homeadvance.html(\r\n    '<div id=\"class_advance\" class=\"class_advance choose_craful\" style=\"display: none\">' +\r\n    '<h2 class=\"live_advance\">直播预告</h2>' +\r\n    '<ul class=\"class_advance\"></ul>' +\r\n    '</div>'\r\n  )\r\n  var strr = ''\r\n  for (var i = 0; i < tabInfo.length; i++) {\r\n    var categoryname = tabInfo[i]['categoryname' + tabInfo[i].cid]\r\n    console.log(categoryname)\r\n    var blockTitle = tabInfo[i]['cat' + tabInfo[i].cid]\r\n    var str = ''\r\n    // 心理健康\r\n    if (categoryname === '心理健康课' || categoryname === '心理健康课') {\r\n      homeadvance.append(\r\n        '<div id=\"audio_advance\" class=\"audio_advance choose_craful\">' +\r\n        '<h2 class=\"audio_title\"></h2>' +\r\n        '<ul class=\"audio_content\"></ul>' +\r\n        '</div>'\r\n      )\r\n      var audiotitle = $('#audio_advance .audio_title')\r\n      audiotitle.text(categoryname)\r\n      var audiocontent = $('#audio_advance .audio_content')\r\n      for (var k = 0; k < blockTitle.length; k++) {\r\n        var id = blockTitle[k].id,\r\n          picture = blockTitle[k].picture,\r\n          name = blockTitle[k].name,\r\n          audiotitle = blockTitle[k].title.trim(),\r\n          time = new Date(Number(blockTitle[k].starttime) * 1000).toLocaleDateString()\r\n        audiocontent.append(\r\n          '<li class=\"audio_item\">' +\r\n          '<a class=\"audio_wrapper history\" data-id=\"' + id + '\" href=\"' + hosturl + '/index.php/Index/livedeil_0/id/' + id + '\">' +\r\n          '<i class=\"icon\">' +\r\n          '<img src=\"' + picture + '\" alt=\"\">' +\r\n          '</i>' +\r\n          '<span class=\"audio_info\">' +\r\n          '<span class=\"audio_title\">' + audiotitle + '</span>' +\r\n          '<span class=\"audio_owner\">' + name + '</span>' +\r\n          '<span class=\"audio_hot\">' +\r\n          '<time>' + time + '</time>' +\r\n          '</span>' +\r\n          '</span>' +\r\n          '</a>' +\r\n          '</li>'\r\n        )\r\n      }\r\n    } else if (categoryname === '精品课程包') {\r\n      console.log('精品课程包')\r\n      homeadvance.append(\r\n        `<div class=\"class_bag choose_craful\">\r\n            <h2>${categoryname}</h2>\r\n            <ul class=\"bag_content\">    \r\n            </ul>\r\n          </div>`\r\n      )\r\n      var bagcontent = $('.class_bag .bag_content')\r\n      for (var l = 0; l < blockTitle.length; l++) {\r\n        var ids = blockTitle[l].id,\r\n          pictures = blockTitle[l].picture,\r\n          names = blockTitle[l].name,\r\n          audiotitles = blockTitle[l].title.trim(),\r\n          bagprice = blockTitle[l].price,\r\n          sumi = blockTitle[l].sumi,\r\n          suming = blockTitle[l].suming\r\n        bagcontent.append(`\r\n        <li class=\"bag_item\" data-id=\"${ids}\">\r\n        <a class=\"bag_wrapper history\" href=\"javascript:\">\r\n          <i class=\"icon\">\r\n            <img\r\n                src=\"${pictures}\"\r\n                alt=\"\">\r\n          </i>\r\n          <span class=\"audio_info\">\r\n            <span class=\"audio_title\">${audiotitles}</span>\r\n            <span class=\"audio_owner\">${names}</span>\r\n            <span class=\"audio_hot\">\r\n              <span>更新至第${suming}课/共${sumi}课</span>\r\n              <!--<span>126购买</span>-->\r\n              <span class=\"bag_price\">￥${bagprice}</span>\r\n            </span>\r\n          </span>\r\n        </a>\r\n      </li>\r\n        `)\r\n      }\r\n    } else {\r\n      var str = ''\r\n      for (var j = 0; j < blockTitle.length; j++) {\r\n        var listcontent = $('#home_advance .list_content')\r\n        var ids = blockTitle[j].id,\r\n          pictures = blockTitle[j].picture,\r\n          names = blockTitle[j].name,\r\n          audiotitles = blockTitle[j].title,\r\n          livetype = Number(blockTitle[j].livetype),\r\n          playurl = '',\r\n          logourl = '',\r\n          statuss = Number(blockTitle[j].statuss),\r\n          ischoes = Number(blockTitle[j].ischoes),\r\n          price = Number(blockTitle[j].price)\r\n        // 语音课程\r\n        if (livetype === 2) {\r\n          playurl = 'Index/livedeil_0'\r\n          logourl = 'https://cdn2.qnzsvk.cn/static/20170915/images/all_live_audio@2x.png'\r\n        } else { // 视频课程\r\n          playurl = 'Newautolive/index'\r\n          logourl = 'https://cdn2.qnzsvk.cn/static/20170915/images/all_live_video@2x.png'\r\n          if (statuss === 2) {\r\n            if (price === 0.00) {\r\n              playurl = 'Newautolive/index'\r\n            } else {\r\n              if (ischoes === 2) {\r\n                playurl = 'curdetailpage'\r\n              } else {\r\n                playurl = 'curdetail'\r\n              }\r\n            }\r\n          } else if (statuss === 1) {\r\n            playurl = 'Newautolive/index'\r\n          }\r\n        }\r\n        str +=\r\n          '<li class=\"single_video\">' +\r\n          '<a class=\"single_list_wrapper history\" data-id=\"' + ids + '\" href=\"' + hosturl + '/index.php/' + playurl + '/id/' + ids + '\">' +\r\n          '<section class=\"list_header\">' +\r\n          '<span class=\"list_header_info\">' +\r\n          '<img class=\"class_type\" src=\"' + logourl + '\" alt=\"\">' +\r\n          '<p class=\"is_free\">免费</p>' +\r\n          '</span>' +\r\n          '<img src=\"' + pictures + '\" alt=\"\">' +\r\n          '<span class=\"title\">' +\r\n          '<title class=\"video_introduce\">' + audiotitles + '</title>' +\r\n          '</span>' +\r\n          '</section>' +\r\n          '<p class=\"video_owner\">' + names + '</p>' +\r\n          '</a>' +\r\n          '</li>'\r\n      }\r\n      homeadvance.append(\r\n        '<div class=\"video_audio choose_craful\">' +\r\n        '<h2>' + categoryname + '</h2>' +\r\n        '<ul class=\"list_content\">' + str + '</ul>' +\r\n        '</div>'\r\n      )\r\n    }\r\n  }\r\n  setTimeout(function () {\r\n    loading('none')\r\n  }, 300)\r\n}\r\n\r\n// 获取遮罩数据接口\r\nfunction getTagMask(id) {\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/tags/id/' + id,\r\n    type: 'get',\r\n    dataType: 'jsonp',\r\n    jsonp: 'jsonpcallback',\r\n    success: function (data) {\r\n      console.log(data)\r\n    },\r\n    error: function (err) {\r\n      console.log(err)\r\n    }\r\n  }).done(function () {\r\n\r\n  })\r\n}\r\n\r\n\r\n// 直播信息函数\r\nfunction liveInfo(liveinfo) {\r\n  var advanveWrapper = $('#class_advance')\r\n  var classadvanve = $('#class_advance .class_advance')\r\n  var id = liveinfo.id,\r\n    picture = liveinfo.picture,\r\n    title = liveinfo.title,\r\n    livetime = liveinfo.starttime,\r\n    spker = liveinfo.spker,\r\n    jianjie = liveinfo.jianjie,\r\n    willlivetime = new Date(Number(liveinfo.starttime) * 1000).toLocaleString(),\r\n    liveoff = Number(liveinfo.status),\r\n    livetype = Number(liveinfo.livetype),\r\n    liveurl = '',\r\n    livetagsrc = ''\r\n  if (livetype === 1) {\r\n    livetagsrc = \"https://cdn2.qnzsvk.cn/static/20170915/images/all_live_video@2x.png\"\r\n    liveurl = 'Newautolive/index'\r\n  } else if (livetype === 2) {\r\n    livetagsrc = \"https://cdn2.qnzsvk.cn/static/20170915/images/all_live_audio@2x.png\"\r\n    liveurl = 'Index/autolive'\r\n  }\r\n  if (liveoff === 1) {\r\n    advanveWrapper.css('display', 'block')\r\n    classadvanve.html(\r\n      '<li class=\"live\">' +\r\n      '<a  class=\"history\" data-id=\"' + id + '\" href=\"' + hosturl + '/index.php/' + liveurl + '/id/' + id + '\">' +\r\n      '<span class=\"list_header\">' +\r\n      '<span class=\"list_header_info\">' +\r\n      '<img class=\"class_type\" src=\"' + livetagsrc + '\" alt=\"\">' +\r\n      '<p class=\"is_free\">免费</p>' +\r\n      '</span>' +\r\n      '<img class=\"live_img\" src=\"' + picture + '\" alt=\"\">' +\r\n      '<span class=\"title all-cut-time\">' +\r\n      '</span>' +\r\n      '</span>' +\r\n      '<span class=\"live_introdus\">' +\r\n      '<span class=\"title\">' + title + '</span>' +\r\n      '<span class=\"live_user\">' + spker + '</span>' +\r\n      '<span id=\"living_mark\" class=\"status\">' + willlivetime + '</span>' +\r\n      '</span>' +\r\n      '</a>' +\r\n      '</li>'\r\n    )\r\n  }\r\n\r\n  // 模拟倒计时\r\n  var startime = livetime;\r\n  //是否直播1是0否\r\n  var living = livetype;\r\n  // 当前时间\r\n  var timestamp = Math.round(new Date().getTime() / 1000);\r\n  // 时间\r\n  var newtime = startime - timestamp;\r\n  var intDiff = newtime;\r\n  // 直播倒计时函数\r\n  countDown(intDiff, living);\r\n}\r\n\r\n\r\n// 选项卡构造函数\r\nfunction TabCenter(tab, tabContents, tabMsk, Swiper, homeadvance) {\r\n  // 选项卡外框\r\n  this.tab = tab\r\n  // 选项卡内容\r\n  this.tabContents = tabContents\r\n  // 滑块对象\r\n  this.mySwiper = Swiper\r\n  // 头部标签\r\n  this.tabMsk = tabMsk\r\n  // 选项卡宽度\r\n  this.swiperWidth = Swiper.container[0].clientWidth\r\n  // 最大移动距离\r\n  this.maxTranslate = Swiper.maxTranslate()\r\n  // 最大宽度\r\n  this.maxWidth = this.swiperWidth / 2 - this.maxTranslate\r\n  // 上一次点击的下标\r\n  this.prevIndex = 0\r\n  this.homeadvance = homeadvance\r\n  // 选择的对象\r\n  this.tagss = {}\r\n  // 筛选的ID\r\n  this.cid = {0: ''}\r\n  // 开关\r\n  this.onOff = true\r\n  // 后端遮罩筛选数据\r\n  this.tagsstr = ''\r\n}\r\n\r\n// 选项卡构造函数 初始化函数\r\nTabCenter.prototype.init = function () {\r\n  var This = this\r\n  this.mySwiper.on('tap', function (swiper) {\r\n    This.slideClick(swiper, This)\r\n    chooseObj.tags = ''\r\n    This.tagsstr = ''\r\n    This.clearObj(This.tagss)\r\n  })\r\n};\r\n// 选项卡点击居中\r\nTabCenter.prototype.slideClick = function (swiper, This) {\r\n  // swiper-slide\r\n  var slide = swiper.slides[swiper.clickedIndex]\r\n  // 被点击slide的中心点\r\n  var slideCenter = slide.offsetLeft + slide.clientWidth / 2\r\n  // 点击下标\r\n  var clickedIndex = swiper.clickedIndex\r\n  // tab转场\r\n  This.mySwiper.setWrapperTransition(10)\r\n  if (slideCenter < This.swiperWidth / 2) {\r\n    This.mySwiper.setWrapperTranslate(0)\r\n  } else if (slideCenter > This.maxWidth) {\r\n    This.mySwiper.setWrapperTranslate(This.maxTranslate)\r\n  } else {\r\n    var nowTlanslate = slideCenter - This.swiperWidth / 2\r\n    This.mySwiper.setWrapperTranslate(-nowTlanslate)\r\n  }\r\n  // slide 加active样式\r\n  This.slideActive(clickedIndex, This.tab)\r\n  // 选项卡内容切换\r\n  var tabContents = This.tabContents\r\n  var slideContent = swiper.slides[clickedIndex].getElementsByTagName('span')[0].innerText;\r\n  var slideobj = swiper.slides[clickedIndex]\r\n  This.tabListChange(tabContents, clickedIndex, This, slideContent, slideobj)\r\n\r\n};\r\n// 选项卡加样式\r\nTabCenter.prototype.slideActive = function (clickedIndex, tab) {\r\n  tab.find('.active').removeClass('active')\r\n  tab.find('.swiper-slide').eq(clickedIndex).addClass('active')\r\n};\r\n// 选项卡内容切换\r\nTabCenter.prototype.tabListChange = function (tabContents, index, This, slideContent, slideobj) {\r\n  if (index === 0) {\r\n    This.tabMsk.css('display', 'none')\r\n    advanceData('')\r\n  } else {\r\n    This.homeadvance.html(\r\n      '<div id=\"audio_advance\" class=\"audio_advance choose_craful\">' +\r\n      '<ul class=\"audio_content\">' + '</ul>' +\r\n      '</div>' +\r\n      '<div class=\"video_audio choose_craful\">' +\r\n      '<ul class=\"list_content\">' + '</ul>' +\r\n      '</div>' +\r\n      '<div class=\"class_bag choose_craful\">' +\r\n      '<ul class=\"bag_content\">' + '</ul>' +\r\n      '</div>' +\r\n      '<div class=\"off_line_activity history\">' +\r\n      '<ul class=\"activity_content\">' +\r\n      '</ul>' +\r\n      '</div>'\r\n    )\r\n    var listcontent = ''\r\n    var tabId = slideobj.getAttribute('data-id')\r\n    var page = 0\r\n    var onOff = true\r\n    // 分页\r\n    This.homeadvance.dropload({\r\n      scrollArea: window,\r\n      domDown: {\r\n        domClass: 'dropload-down',\r\n        domRefresh: '',\r\n        domLoad: '<img width=\"24\" height=\"24\" src=\"https://cdn2.qnzsvk.cn/static/20170919/qnvk_2.0/images/loading.gif\" alt=\"\"><span>加载中...</span>',\r\n        domNoData: '- 暂时没有了哦 -'\r\n      },\r\n      distance: 50,\r\n      loadDownFn: function (me) {\r\n        page++;\r\n        // 拼接HTML\r\n        var result = '';\r\n        var logourl = ''\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Newindex/info',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          data: {\r\n            id: tabId,\r\n            tags: '',\r\n            page: page\r\n          },\r\n          success: function (data) {\r\n            console.log(data)\r\n            if (onOff && data.infolist.length > 0) {\r\n              if (data.infolist[0].livetype === '2' && data.infolist[0].ischoes !== '2') {\r\n                // '语音'\r\n                listcontent = $('#audio_advance .audio_content')\r\n              } else if (data.infolist[0].livetype === '1' && data.infolist[0].ischoes !== '2') {\r\n                // '视频'\r\n                listcontent = $('#home_advance .list_content')\r\n              } else if (data.infolist[0].ischoes === '2') {\r\n                // '精选课程包'\r\n                listcontent = $('.class_bag .bag_content')\r\n              } else if (data.infolist[0].tickettype === '2') {\r\n                // '线下活动'\r\n                listcontent = $('.off_line_activity .activity_content')\r\n              }\r\n              onOff = false\r\n            }\r\n            var arrLen = data.infolist.length;\r\n            var otherdata = data.infolist\r\n            if (arrLen > 0) {\r\n              for (var i = 0; i < arrLen; i++) {\r\n                var livetype = Number(otherdata[i].livetype ? otherdata[i].livetype : ''),\r\n                  id = otherdata[i].id,\r\n                  picture = otherdata[i].picture ? otherdata[i].picture : '',\r\n                  audiotitle = otherdata[i].content ? otherdata[i].content : '',\r\n                  title = otherdata[i].title ? otherdata[i].title.trim() : '',\r\n                  time = new Date(Number(otherdata[i].starttime ? otherdata[i].starttime : '') * 1000).toLocaleDateString(),\r\n                  ischoes = Number(otherdata[i].ischoes),\r\n                  name = otherdata[i].name ? otherdata[i].name : '',\r\n                  price = otherdata[i].price ? otherdata[i].price : '',\r\n                  sumi = otherdata[i].sumi ? otherdata[i].sumi : '',\r\n                  suming = otherdata[i].suming ? otherdata[i].suming : '',\r\n                  tickettype = otherdata[i].tickettype ? otherdata[i].tickettype : ''\r\n                // 语音课程\r\n                if (livetype === 2 && ischoes !== 2) {\r\n                  result +=\r\n                    '<li class=\"audio_item\" data-id=\"' + id + '\">' +\r\n                    '<a class=\"audio_wrapper history\"  href=\"' + hosturl + '/index.php/Index/livedeil_0/id/' + id + '\">' +\r\n                    '<i class=\"icon\">' +\r\n                    '<img src=\"' + picture + '\" alt=\"\">' +\r\n                    '</i>' +\r\n                    '<span class=\"audio_info\">' +\r\n                    '<span class=\"audio_title\">' + title + '</span>' +\r\n                    '<span class=\"audio_owner\">' + name + '</span>' +\r\n                    '<span class=\"audio_hot\">' +\r\n                    '<time>' + time + '</time>' +\r\n                    '</span>' +\r\n                    '</span>' +\r\n                    '</a>' +\r\n                    '</li>'\r\n                  // 视频\r\n                } else if (livetype === 1 && ischoes !== 2) {\r\n                  result +=\r\n                    '<li class=\"single_video\" data-id=\"' + id + '\" >' +\r\n                    '<a class=\"single_list_wrapper history\" href=\"' + hosturl + '/index.php/Newautolive/index/id/' + id + '\">' +\r\n                    '<section class=\"list_header\">' +\r\n                    '<span class=\"list_header_info\">' +\r\n                    '<img class=\"class_type\" src=\"https://cdn2.qnzsvk.cn/static/20170915/images/all_live_video@2x.png\" alt=\"\">' +\r\n                    '<p class=\"is_free\">免费</p>' +\r\n                    '</span>' +\r\n                    '<img src=\"' + picture + '\" alt=\"\">' +\r\n                    '<span class=\"title\">' +\r\n                    '<title class=\"video_introduce\">' + title + '</title>' +\r\n                    '</span>' +\r\n                    '</section>' +\r\n                    '<p class=\"video_owner\">' + name + '</p>' +\r\n                    '</a>' +\r\n                    '</li>'\r\n                  // 课程包\r\n                } else if (livetype && ischoes === 2) {\r\n                  result += `\r\n                    <li class=\"bag_item\" data-id=\"${id}\">\r\n                      <a class=\"bag_wrapper history\" href=\"javascript:\">\r\n                        <i class=\"icon\">\r\n                          <img\r\n                              src=\"${picture}\"\r\n                              alt=\"\"> \r\n                        </i>\r\n                        <span class=\"audio_info\">\r\n                          <span class=\"audio_title\">${title}</span>\r\n                          <span class=\"audio_owner\">${name}</span>\r\n                          <span class=\"audio_hot\">\r\n                            <span>更新至第${suming}课/共${sumi}课</span>\r\n                            <!--<span>126购买</span>-->\r\n                            <span class=\"bag_price\">￥${price}</span>\r\n                          </span>\r\n                        </span>\r\n              \r\n                      </a>\r\n                    </li>\r\n                  `\r\n                } else if (tickettype) {\r\n                  result += `\r\n                    <li class=\"activity_item\"  data-id=\"${otherdata[i].id}\">\r\n                      <div class=\"activity_left\">\r\n                        <img \r\n                           src=\"${otherdata[i].tickets_picture}\"\r\n                           alt=\"\"\r\n                        >\r\n                      </div>\r\n                      <div class=\"activity_right\">\r\n                        <div class=\"activity_title\">\r\n                          <h2>${otherdata[i].tickets_name}</h2>\r\n                        </div>\r\n                        <div class=\"time_where\">\r\n                          <time>${otherdata[i].tickets_crettime} | ${otherdata[i].tikeaddress}</time>\r\n                        </div>\r\n                        <div class=\"activity_money\">\r\n                          <span class=\"money_sum\">${otherdata[i].tickets_oldprice}</span>\r\n                          <span class=\"money_unit\">元</span>\r\n                        </div>\r\n                        <div class=\"owner_info\">\r\n                          <div class=\"activity_sponsor\">主办方: ${otherdata[i].zuzhizhe}</div>\r\n                          <div class=\"activity_speaker\">主讲人: ${otherdata[i].zhujiangren}</div>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  `\r\n                }\r\n              }\r\n            } else {\r\n              // 锁定\r\n              me.lock();\r\n              // 无数据\r\n              me.noData();\r\n            }\r\n            // 插入数据到页面，放到最后面\r\n            if (listcontent) {\r\n              listcontent.append(result);\r\n            }\r\n            // 每次数据插入，必须重置\r\n            me.resetload();\r\n          },\r\n          error: function (xhr, type) {\r\n            console.log('Ajax error!');\r\n            // 即使加载出错，也得重置\r\n            me.resetload();\r\n          }\r\n        }).done(function () {\r\n          // 记录历史记录\r\n          history()\r\n          // 课程包点击\r\n          bagClick()\r\n          // 线下活动点击\r\n          offLineClick()\r\n        });\r\n      }\r\n    });\r\n\r\n    // 获取遮罩数据\r\n    $.ajax({\r\n      url: hosturl + '/index.php/Newindex/tags/id/' + tabId,\r\n      type: 'get',\r\n      dataType: 'json',\r\n      success: function (data) {\r\n        // 遮罩数据渲染函数\r\n        This.maskData(data.tagslist, This)\r\n        if (data.tagslist.length) {\r\n          This.tabMsk.css('display', 'block')\r\n        } else {\r\n          This.tabMsk.css('display', 'none')\r\n        }\r\n      },\r\n      error: function (err) {\r\n        console.log(err)\r\n      }\r\n    }).done(function () {\r\n      // 选项卡过滤\r\n      var tabMskDetials = This.tabMsk.get(0).getElementsByTagName('div')\r\n      This.tabFilter(tabMskDetials, This)\r\n    })\r\n  }\r\n  This.cid[0] = tabId\r\n};\r\n// 页面滚动\r\nTabCenter.prototype.windowScroll = function () {\r\n  $(window).scroll(function () {\r\n    var bodyScroll = document.body.scrollTop || document.documentElement.scrollTop\r\n  })\r\n}\r\n// 遮罩数据点击过滤\r\nTabCenter.prototype.tabFilter = function (maskcontent, This) {\r\n  var itemA = null;\r\n  for (var k = 0; k < maskcontent.length; k++) {\r\n    itemA = maskcontent[k].querySelectorAll(\"span\");\r\n    maskcontent[k].prevNode = null;\r\n    maskcontent[k].index = k;\r\n    for (var m = 0; m < itemA.length; m++) {\r\n      itemA[m].onOff = true\r\n      itemA[m].addEventListener('touchstart', function () {\r\n        chooseObj.tags = ' '\r\n        This.tagsstr = ''\r\n        var parent = this.parentNode;\r\n        if (parent.prevNode) {\r\n          parent.prevNode.className = ''\r\n        }\r\n        // 点击切换筛选明细状态\r\n        if (this.onOff) {\r\n          this.className = 'search_active';\r\n          this.onOff = false\r\n          This.tagss[parent.index + 1] = this.getAttribute('data-id')\r\n          for (var attr in This.tagss) {\r\n            This.tagsstr += This.tagss[attr] + ','\r\n          }\r\n        } else {\r\n          this.className = ''\r\n          This.tagss[parent.index + 1] = ''\r\n          this.onOff = true\r\n          for (var key in This.tagss) {\r\n            This.tagsstr += This.tagss[key] + ','\r\n          }\r\n        }\r\n        parent.prevNode = this;\r\n        // 传给后台筛选数据的参数\r\n        var reg = /\\d+/g\r\n        if (reg.test(This.tagsstr)) {\r\n          chooseObj.tags = This.tagsstr.match(reg).join(',') + ','\r\n        } else {\r\n          chooseObj.tags = ''\r\n        }\r\n        chooseObj.id = This.cid[0]\r\n        console.log(chooseObj)\r\n        // 数据筛选\r\n        advanceData(chooseObj)\r\n      })\r\n    }\r\n  }\r\n};\r\n// 遮罩数据获取;\r\nTabCenter.prototype.maskData = function (data, This) {\r\n  var str1 = '',\r\n    str2 = '',\r\n    str3 = '',\r\n    sum = 0\r\n  for (var i = 0; i < data.length; i++) {\r\n    var tag2 = data[i].tag2,\r\n      tag3 = data[i].tag3,\r\n      tag4 = data[i].tag4,\r\n      id2 = data[i].ta2,\r\n      id3 = data[i].ta3,\r\n      id4 = data[i].ta4\r\n    if (tag2) {\r\n      str1 += '<span data-id=\"' + id2 + '\">' + tag2 + '</span>'\r\n      This.tabMsk.find('.objects').find('h2').css('display', 'block')\r\n      This.tabMsk.find('.objects').html('<h2>学科:</h2>' + str1)\r\n    }\r\n\r\n    if (tag3) {\r\n      str2 += '<span data-id=\"' + id3 + '\">' + tag3 + '</span>'\r\n      This.tabMsk.find('.stages').find('h2').css('display', 'block')\r\n      This.tabMsk.find('.stages').html('<h2>学段:</h2>' + str2)\r\n\r\n    } else {\r\n      sum++\r\n      if (sum === data.length) {\r\n        This.tabMsk.find('.stages').html(' ')\r\n      }\r\n    }\r\n    if (tag4 && false) {\r\n      str3 += '<span data-id=\"' + id4 + '\">' + tag4 + '</span>'\r\n      This.tabMsk.find('.classes').find('h2').css('display', 'block')\r\n      This.tabMsk.find('.classes').html('<h2>年级:</h2>' + str3)\r\n    }\r\n  }\r\n\r\n};\r\n// 清空筛选对象\r\nTabCenter.prototype.clearObj = function (obj) {\r\n  for (var attr in obj) {\r\n    delete obj[attr]\r\n  }\r\n};\r\n\r\n// 固定tab\r\nfunction TabFixed(tab, header) {\r\n  this.tab = $(tab)\r\n  this.headerHeight = $(header).height()\r\n}\r\n\r\nTabFixed.prototype.init = function () {\r\n  var This = this\r\n  $(window).scroll(function () {\r\n    var bodyScroll = document.body.scrollTop || document.documentElement.scrollTop\r\n    if (bodyScroll > This.headerHeight) {\r\n      This.tab.css({\r\n        position: 'fixed',\r\n        left: 0,\r\n        top: 0,\r\n        zIndex: 99\r\n      })\r\n    } else {\r\n      This.tab.css({\r\n        position: 'static'\r\n      })\r\n    }\r\n  })\r\n};\r\n\r\n// 直播倒计时函数\r\nfunction countDown(intDiff, living) {\r\n  // 设置定时器\r\n  var timer = null;\r\n  var allCutTime = $('.all-cut-time')\r\n  var liveingMark = $('#living_mark')\r\n  timer = setInterval(function () {\r\n    var day = 0,\r\n      hour = 0,\r\n      minute = 0,\r\n      second = 0;\r\n    //时间默认值\r\n    if (intDiff > 0) {\r\n      day = Math.floor(intDiff / (60 * 60 * 24));\r\n      hour = Math.floor(intDiff / (60 * 60)) - (day * 24);\r\n      minute = Math.floor(intDiff / 60) - (day * 24 * 60) - (hour * 60);\r\n      second = Math.floor(intDiff) - (day * 24 * 60 * 60) - (hour * 60 * 60) - (minute * 60);\r\n      if (minute <= 9)\r\n        minute = '0' + minute;\r\n      if (second <= 9)\r\n        second = '0' + second;\r\n    } else if (intDiff < 0 && living === 1) {\r\n      allCutTime.html(\r\n        '<span class=\"video_introduce\">直播进行中...</span>'\r\n      );\r\n      liveingMark.html('直播中...')\r\n      // 清除定时器\r\n      clearInterval(timer);\r\n      return;\r\n    } else if (living === 2) {\r\n      allCutTime.html(\r\n        '<span class=\"video_introduce\">直播进行中...</span>'\r\n      );\r\n      liveingMark.html('直播中...')\r\n      // 清除定时器\r\n      clearInterval(timer);\r\n      return;\r\n    }\r\n    allCutTime.html(\r\n      '<span>倒计时：</span>' +\r\n      '<span>' + day + '天' + hour + '时' + minute + '分' + second + '秒' + '</span>'\r\n    )\r\n    intDiff--;\r\n  }, 1000);\r\n}\r\n\r\n// loading样式\r\nfunction loading(showhide) {\r\n  $('.loading').css('display', showhide)\r\n}\r\n\r\n// 历史记录\r\nfunction history() {\r\n  setTimeout(function () {\r\n    var history = document.querySelectorAll('.history')\r\n    for (var i = 0; i < history.length; i++) {\r\n      history[i].addEventListener('click', function () {\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Index/addsee',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          data: {\r\n            live_id: this.getAttribute('data-id'),\r\n            playtime: new Date().getTime()\r\n          },\r\n          success: function (data) {\r\n            console.log(data)\r\n          }\r\n        })\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Newautolive/seecount',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          data: {\r\n            id: this.getAttribute('data-id')\r\n          },\r\n          success: function (data) {\r\n            console.log(data)\r\n          },\r\n          error: function (err) {\r\n            console.log(err)\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }, 200)\r\n}\r\n\r\n// 分享提示\r\nfunction ShareRemind() {\r\n  this.body = $('body')\r\n}\r\n\r\nShareRemind.prototype.init = function () {\r\n  var This = this\r\n  $.ajax({\r\n    url: hosturl + '/index.php/Newindex/tanchu',\r\n    type: 'get',\r\n    dataType: 'json',\r\n    success: function (data) {\r\n      console.log(data)\r\n      if (data == null) {\r\n        $.ajax({\r\n          url: hosturl + '/index.php/Newindex/tanchu2',\r\n          type: 'get',\r\n          dataType: 'json',\r\n          success: function (data) {\r\n            console.log(data)\r\n            var imgSrc = data.tanchupath;\r\n            var imgUrl = data.tanchuurl;\r\n            This.body.append(\r\n              '<section id=\"rules\" class=\"center_box\">' +\r\n              '<div class=\"rules\">' +\r\n              '<div class=\"rules_content\">' +\r\n              '<img class=\"close_btn\" src=\"https://cdn2.qnzsvk.cn/static/20170927_/qnvk_2.0/images/popup_coupon_close_btn@3x.png\">' +\r\n              '<a href=\"' + imgUrl + '\">' +\r\n              '<img class=\"get_rules\" src=\" ' + imgSrc + ' \">' +\r\n              '</a>' +\r\n              '</div>' +\r\n              '</div>' +\r\n              '</section>'\r\n            )\r\n            This.close()\r\n          }\r\n        })\r\n\r\n      }\r\n    }\r\n  })\r\n}\r\nShareRemind.prototype.close = function () {\r\n  setTimeout(function () {\r\n    var closebtn = $('#rules .close_btn')\r\n    var rules = $('#rules')\r\n    var rulescontent = document.querySelector('#rules .rules')\r\n    closebtn.on('click', function () {\r\n      rules.css({\r\n        display: 'none'\r\n      })\r\n    })\r\n    rules.on('click', function () {\r\n      this.css({\r\n        display: 'none'\r\n      })\r\n    })\r\n    rulescontent.addEventListener('click', function (e) {\r\n      e.stopPropagation()\r\n    })\r\n  }, 500)\r\n}\r\n\r\n// 直播播放次数统计\r\nfunction livingNums() {\r\n  var livingSum = $('#class_advance').find('.history')\r\n  // livingSum.attr('href', 'javascript:')\r\n  livingSum.on('click', function () {\r\n    $.ajax({\r\n      url: hosturl + '/index.php/Newautolive/seecount',\r\n      type: 'get',\r\n      dataType: 'json',\r\n      data: {\r\n        id: this.getAttribute('data-id')\r\n      },\r\n      success: function (data) {\r\n        console.log(data)\r\n      },\r\n      error: function (err) {\r\n        console.log(err)\r\n      }\r\n    })\r\n  })\r\n}"]}